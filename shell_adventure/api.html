<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="pdoc 7.1.1" />
    <title>shell_adventure.api API documentation</title>
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2264%22%20height%3D%2264%22%20viewBox%3D%2244.5%202.5%2015%2015%22%3E%3Cpath%20d%3D%22M49.351%2021.041c-.233-.721-.546-2.408-.772-4.076-.042-.09-.067-.187-.046-.288-.166-1.347-.277-2.625-.241-3.351-1.378-1.008-2.271-2.586-2.271-4.362%200-.976.272-1.935.788-2.774.057-.094.122-.18.184-.268-.033-.167-.052-.339-.052-.516%200-1.477%201.202-2.679%202.679-2.679.791%200%201.496.352%201.987.9a6.3%206.3%200%200%201%201.001.029c.492-.564%201.207-.929%202.012-.929%201.477%200%202.679%201.202%202.679%202.679a2.65%202.65%200%200%201-.269%201.148c.383.747.595%201.572.595%202.41%200%202.311-1.507%204.29-3.635%205.107.037.699.147%202.27.423%203.294l.137.461c.156%202.136-4.612%205.166-5.199%203.215zm.127-4.919a4.78%204.78%200%200%200%20.775-.584c-.172-.115-.505-.254-.88-.378zm.331%202.302l.828-.502c-.202-.143-.576-.328-.984-.49zm.45%202.157l.701-.403c-.214-.115-.536-.249-.891-.376l.19.779zM49.13%204.141c0%20.152.123.276.276.276s.275-.124.275-.276-.123-.276-.276-.276-.275.124-.275.276zm.735-.389a1.15%201.15%200%200%201%20.314.783%201.16%201.16%200%200%201-1.162%201.162c-.457%200-.842-.27-1.032-.653-.026.117-.042.238-.042.362a1.68%201.68%200%200%200%201.679%201.679%201.68%201.68%200%200%200%201.679-1.679c0-.843-.626-1.535-1.436-1.654zm3.076%201.654a1.68%201.68%200%200%200%201.679%201.679%201.68%201.68%200%200%200%201.679-1.679c0-.037-.009-.072-.011-.109-.21.3-.541.508-.935.508a1.16%201.16%200%200%201-1.162-1.162%201.14%201.14%200%200%201%20.474-.912c-.015%200-.03-.005-.045-.005-.926.001-1.679.754-1.679%201.68zm1.861-1.265c0%20.152.123.276.276.276s.275-.124.275-.276-.123-.276-.276-.276-.275.124-.275.276zm1.823%204.823c0-.52-.103-1.035-.288-1.52-.466.394-1.06.64-1.717.64-1.144%200-2.116-.725-2.499-1.738-.383%201.012-1.355%201.738-2.499%201.738-.867%200-1.631-.421-2.121-1.062-.307.605-.478%201.267-.478%201.942%200%202.486%202.153%204.51%204.801%204.51s4.801-2.023%204.801-4.51zm-3.032%209.156l-.146-.492c-.276-1.02-.395-2.457-.444-3.268a6.11%206.11%200%200%201-1.18.115%206.01%206.01%200%200%201-2.536-.562l.006.175c.802.215%201.848.612%202.021%201.25.079.295-.021.601-.274.837l-.598.501c.667.304%201.243.698%201.311%201.179.02.144.022.507-.393.787l-.564.365c1.285.521%201.361.96%201.381%201.126.018.142.011.496-.427.746l-.854.489c.064-1.19%201.985-2.585%202.697-3.248zM49.34%209.925c0-.667%201-.667%201%200%200%20.653.818%201.205%201.787%201.205s1.787-.552%201.787-1.205c0-.667%201-.667%201%200%200%201.216-1.25%202.205-2.787%202.205s-2.787-.989-2.787-2.205zm-.887-7.633c-.093.077-.205.114-.317.114a.5.5%200%200%201-.318-.886L49.183.397a.5.5%200%200%201%20.703.068.5.5%200%200%201-.069.703zm7.661-.065c-.086%200-.173-.022-.253-.068l-1.523-.893c-.575-.337-.069-1.2.506-.863l1.523.892a.5.5%200%200%201%20.179.685c-.094.158-.261.247-.432.247z%22%20fill%3D%22%233bb300%22/%3E%3C/svg%3E"/>


<style>/*! * Bootstrap Reboot v5.0.0 (https://getbootstrap.com/) * Copyright 2011-2021 The Bootstrap Authors * Copyright 2011-2021 Twitter, Inc. * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE) * Forked from Normalize.css, licensed MIT (https://github.com/necolas/normalize.css/blob/master/LICENSE.md) */*,::after,::before{box-sizing:border-box}@media (prefers-reduced-motion:no-preference){:root{scroll-behavior:smooth}}body{margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}hr{margin:1rem 0;color:inherit;background-color:currentColor;border:0;opacity:.25}hr:not([size]){height:1px}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem;font-weight:500;line-height:1.2}h1{font-size:calc(1.375rem + 1.5vw)}@media (min-width:1200px){h1{font-size:2.5rem}}h2{font-size:calc(1.325rem + .9vw)}@media (min-width:1200px){h2{font-size:2rem}}h3{font-size:calc(1.3rem + .6vw)}@media (min-width:1200px){h3{font-size:1.75rem}}h4{font-size:calc(1.275rem + .3vw)}@media (min-width:1200px){h4{font-size:1.5rem}}h5{font-size:1.25rem}h6{font-size:1rem}p{margin-top:0;margin-bottom:1rem}abbr[data-bs-original-title],abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted;cursor:help;-webkit-text-decoration-skip-ink:none;text-decoration-skip-ink:none}address{margin-bottom:1rem;font-style:normal;line-height:inherit}ol,ul{padding-left:2rem}dl,ol,ul{margin-top:0;margin-bottom:1rem}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}dt{font-weight:700}dd{margin-bottom:.5rem;margin-left:0}blockquote{margin:0 0 1rem}b,strong{font-weight:bolder}small{font-size:.875em}mark{padding:.2em;background-color:#fcf8e3}sub,sup{position:relative;font-size:.75em;line-height:0;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}a{color:#0d6efd;text-decoration:underline}a:hover{color:#0a58ca}a:not([href]):not([class]),a:not([href]):not([class]):hover{color:inherit;text-decoration:none}code,kbd,pre,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:1em;direction:ltr;unicode-bidi:bidi-override}pre{display:block;margin-top:0;margin-bottom:1rem;overflow:auto;font-size:.875em}pre code{font-size:inherit;color:inherit;word-break:normal}code{font-size:.875em;color:#d63384;word-wrap:break-word}a>code{color:inherit}kbd{padding:.2rem .4rem;font-size:.875em;color:#fff;background-color:#212529;border-radius:.2rem}kbd kbd{padding:0;font-size:1em;font-weight:700}figure{margin:0 0 1rem}img,svg{vertical-align:middle}table{caption-side:bottom;border-collapse:collapse}caption{padding-top:.5rem;padding-bottom:.5rem;color:#6c757d;text-align:left}th{text-align:inherit;text-align:-webkit-match-parent}tbody,td,tfoot,th,thead,tr{border-color:inherit;border-style:solid;border-width:0}label{display:inline-block}button{border-radius:0}button:focus:not(:focus-visible){outline:0}button,input,optgroup,select,textarea{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button,select{text-transform:none}[role=button]{cursor:pointer}select{word-wrap:normal}select:disabled{opacity:1}[list]::-webkit-calendar-picker-indicator{display:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled),button:not(:disabled){cursor:pointer}::-moz-focus-inner{padding:0;border-style:none}textarea{resize:vertical}fieldset{min-width:0;padding:0;margin:0;border:0}legend{float:left;width:100%;padding:0;margin-bottom:.5rem;font-size:calc(1.275rem + .3vw);line-height:inherit}@media (min-width:1200px){legend{font-size:1.5rem}}legend+*{clear:left}::-webkit-datetime-edit-day-field,::-webkit-datetime-edit-fields-wrapper,::-webkit-datetime-edit-hour-field,::-webkit-datetime-edit-minute,::-webkit-datetime-edit-month-field,::-webkit-datetime-edit-text,::-webkit-datetime-edit-year-field{padding:0}::-webkit-inner-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:textfield}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-color-swatch-wrapper{padding:0}::file-selector-button{font:inherit}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}output{display:inline-block}iframe{border:0}summary{display:list-item;cursor:pointer}progress{vertical-align:baseline}[hidden]{display:none!important}</style>
<style>/*! pygments syntax highlighting */pre{line-height:125%;}td.linenos pre{color:#000000; background-color:#f0f0f0; padding-left:5px; padding-right:5px;}span.linenos{color:#000000; background-color:#f0f0f0; padding-left:5px; padding-right:5px;}td.linenos pre.special{color:#000000; background-color:#ffffc0; padding-left:5px; padding-right:5px;}span.linenos.special{color:#000000; background-color:#ffffc0; padding-left:5px; padding-right:5px;}.pdoc .hll{background-color:#ffffcc}.pdoc{background:#f8f8f8;}.pdoc .c{color:#408080; font-style:italic}.pdoc .err{border:1px solid #FF0000}.pdoc .k{color:#008000; font-weight:bold}.pdoc .o{color:#666666}.pdoc .ch{color:#408080; font-style:italic}.pdoc .cm{color:#408080; font-style:italic}.pdoc .cp{color:#BC7A00}.pdoc .cpf{color:#408080; font-style:italic}.pdoc .c1{color:#408080; font-style:italic}.pdoc .cs{color:#408080; font-style:italic}.pdoc .gd{color:#A00000}.pdoc .ge{font-style:italic}.pdoc .gr{color:#FF0000}.pdoc .gh{color:#000080; font-weight:bold}.pdoc .gi{color:#00A000}.pdoc .go{color:#888888}.pdoc .gp{color:#000080; font-weight:bold}.pdoc .gs{font-weight:bold}.pdoc .gu{color:#800080; font-weight:bold}.pdoc .gt{color:#0044DD}.pdoc .kc{color:#008000; font-weight:bold}.pdoc .kd{color:#008000; font-weight:bold}.pdoc .kn{color:#008000; font-weight:bold}.pdoc .kp{color:#008000}.pdoc .kr{color:#008000; font-weight:bold}.pdoc .kt{color:#B00040}.pdoc .m{color:#666666}.pdoc .s{color:#BA2121}.pdoc .na{color:#7D9029}.pdoc .nb{color:#008000}.pdoc .nc{color:#0000FF; font-weight:bold}.pdoc .no{color:#880000}.pdoc .nd{color:#AA22FF}.pdoc .ni{color:#999999; font-weight:bold}.pdoc .ne{color:#D2413A; font-weight:bold}.pdoc .nf{color:#0000FF}.pdoc .nl{color:#A0A000}.pdoc .nn{color:#0000FF; font-weight:bold}.pdoc .nt{color:#008000; font-weight:bold}.pdoc .nv{color:#19177C}.pdoc .ow{color:#AA22FF; font-weight:bold}.pdoc .w{color:#bbbbbb}.pdoc .mb{color:#666666}.pdoc .mf{color:#666666}.pdoc .mh{color:#666666}.pdoc .mi{color:#666666}.pdoc .mo{color:#666666}.pdoc .sa{color:#BA2121}.pdoc .sb{color:#BA2121}.pdoc .sc{color:#BA2121}.pdoc .dl{color:#BA2121}.pdoc .sd{color:#BA2121; font-style:italic}.pdoc .s2{color:#BA2121}.pdoc .se{color:#BB6622; font-weight:bold}.pdoc .sh{color:#BA2121}.pdoc .si{color:#BB6688; font-weight:bold}.pdoc .sx{color:#008000}.pdoc .sr{color:#BB6688}.pdoc .s1{color:#BA2121}.pdoc .ss{color:#19177C}.pdoc .bp{color:#008000}.pdoc .fm{color:#0000FF}.pdoc .vc{color:#19177C}.pdoc .vg{color:#19177C}.pdoc .vi{color:#19177C}.pdoc .vm{color:#19177C}.pdoc .il{color:#666666}</style>
<style>/*! pdoc */:root{--pdoc-background:#fff;}.pdoc{--text:#212529;--muted:#6c757d;--link:#3660a5;--link-hover:#1659c5;--code:#f7f7f7;--active:#fff598;--accent:#eee;--accent2:#c1c1c1;--nav-hover:rgba(255, 255, 255, 0.5);--name:#0066BB;--def:#008800;--annotation:#007020;}body{background-color:var(--pdoc-background);}html, body{width:100%;height:100%;}@media (max-width:769px){#navtoggle{cursor:pointer;position:absolute;width:50px;height:40px;top:1rem;right:1rem;border-color:var(--text);color:var(--text);display:flex;opacity:0.8;}#navtoggle:hover{opacity:1;}#togglestate + div{display:none;}#togglestate:checked + div{display:inherit;}main, header{padding:2rem 3vw;}.git-button{display:none !important;}nav input[type="search"]:valid ~ *{display:none !important;}}@media (min-width:770px){:root{--sidebar-width:clamp(12.5rem, 28vw, 22rem);}nav{position:fixed;overflow:auto;height:100vh;width:var(--sidebar-width);}main, header{padding:3rem 2rem 3rem calc(var(--sidebar-width) + 3rem);width:calc(54rem + var(--sidebar-width));max-width:100%;}#navtoggle{display:none;}}#togglestate{display:none;}nav.pdoc{--pad:1.75rem;--indent:1.5rem;background-color:var(--accent);border-right:1px solid var(--accent2);box-shadow:0 0 20px rgba(50, 50, 50, .2) inset;padding:0 0 0 var(--pad);overflow-wrap:anywhere;scrollbar-width:thin; scrollbar-color:var(--accent2) transparent }nav.pdoc::-webkit-scrollbar{width:.4rem; }nav.pdoc::-webkit-scrollbar-thumb{background-color:var(--accent2); }nav.pdoc > div{padding:var(--pad) 0;}nav.pdoc .module-list-button{display:inline-flex;align-items:center;color:var(--text);border-color:var(--muted);margin-bottom:1rem;}nav.pdoc .module-list-button:hover{border-color:var(--text);}nav.pdoc input[type=search]{display:block;outline-offset:0;width:calc(100% - var(--pad));}nav.pdoc ul{list-style:none;padding-left:0;}nav.pdoc li{display:block;margin:0;padding:.2rem 0 .2rem var(--indent);transition:all 100ms;}nav.pdoc > div > ul > li{padding-left:0;}nav.pdoc li:hover{background-color:var(--nav-hover);}nav.pdoc a, nav.pdoc a:hover{color:var(--text);}nav.pdoc a{display:block;}nav.pdoc > h2:first-of-type{margin-top:1.5rem;}nav.pdoc .class:before{content:"class ";color:var(--muted);}nav.pdoc .function:after{content:"()";color:var(--muted);}html, main{scroll-behavior:smooth;}.pdoc{color:var(--text);box-sizing:border-box;line-height:1.5;background:none;}.pdoc .pdoc-button{display:inline-block;border:solid black 1px;border-radius:2px;font-size:.75rem;padding:calc(0.5em - 1px) 1em;transition:100ms all;}.pdoc .visually-hidden{position:absolute !important;width:1px !important;height:1px !important;padding:0 !important;margin:-1px !important;overflow:hidden !important;clip:rect(0, 0, 0, 0) !important;white-space:nowrap !important;border:0 !important;}.pdoc h1, .pdoc h2, .pdoc h3{font-weight:300;margin:.3em 0;padding:.2em 0;}.pdoc a{text-decoration:none;color:var(--link);}.pdoc a:hover{color:var(--link-hover);}.pdoc blockquote{margin-left:2rem;}.pdoc pre{background-color:var(--code);border-top:1px solid var(--accent2);border-bottom:1px solid var(--accent2);margin-bottom:1em;padding:.5rem 0 .5rem .5rem;overflow-x:auto;}.pdoc code{color:var(--text);padding:.2em .4em;margin:0;font-size:85%;background-color:var(--code);border-radius:6px;}.pdoc a > code{color:inherit;}.pdoc pre > code{display:inline-block;font-size:inherit;background:none;border:none;padding:0;}.pdoc .modulename{margin-top:0;font-weight:bold;}.pdoc .modulename a{color:var(--link);transition:100ms all;}.pdoc .git-button{float:right;border:solid var(--link) 1px;}.pdoc .git-button:hover{background-color:var(--link);color:var(--pdoc-background);}.pdoc details{--shift:-40px;text-align:right;margin-top:var(--shift);margin-bottom:calc(0px - var(--shift));clear:both;filter:opacity(1);}.pdoc details:not([open]){height:0;overflow:visible;}.pdoc details > summary{font-size:.75rem;cursor:pointer;color:var(--muted);border-width:0;padding:0 .7em;display:inline-block;display:inline list-item;user-select:none;}.pdoc details > summary:focus{outline:0;}.pdoc details > div{margin-top:calc(0px - var(--shift) / 2);text-align:left;}.pdoc .docstring{margin-bottom:1.5rem;}.pdoc > section:first-of-type > .docstring{margin-bottom:3rem;}.pdoc .docstring pre{margin-left:1em;margin-right:1em;}.pdoc h1:target,.pdoc h2:target,.pdoc h3:target,.pdoc h4:target,.pdoc h5:target,.pdoc h6:target{background-color:var(--active);box-shadow:-1rem 0 0 0 var(--active);}.pdoc div:target > .attr,.pdoc section:target > .attr,.pdoc dd:target > a{background-color:var(--active);}.pdoc .attr:hover{filter:contrast(0.95);}.pdoc .headerlink{position:absolute;width:0;margin-left:-1.5rem;line-height:1.4rem;font-size:1.5rem;font-weight:normal;transition:all 100ms ease-in-out;opacity:0;}.pdoc .attr > .headerlink{margin-left:-2.5rem;}.pdoc *:hover > .headerlink,.pdoc *:target > .attr > .headerlink{opacity:1;}.pdoc .attr{display:block;color:var(--text);margin:1rem 0 .5rem;padding:.4rem 5rem .4rem 1rem;background-color:var(--accent);}.pdoc .classattr{margin-left:2rem;}.pdoc .name{color:var(--name);font-weight:bold;}.pdoc .def{color:var(--def);font-weight:bold;}.pdoc .signature{white-space:pre-wrap;}.pdoc .annotation{color:var(--annotation);}.pdoc .inherited{margin-left:2rem;}.pdoc .inherited dt{font-weight:700;}.pdoc .inherited dt, .pdoc .inherited dd{display:inline;margin-left:0;margin-bottom:.5rem;}.pdoc .inherited dd:not(:last-child):after{content:", ";}.pdoc .inherited .class:before{content:"class ";}.pdoc .inherited .function a:after{content:"()";}.pdoc .search-result .docstring{overflow:auto;max-height:25vh;}.pdoc .search-result.focused > .attr{background-color:var(--active);}.pdoc .attribution{margin-top:2rem;display:block;opacity:0.5;transition:all 200ms;filter:grayscale(100%);}.pdoc .attribution:hover{opacity:1;filter:grayscale(0%);}.pdoc .attribution img{margin-left:5px;height:35px;vertical-align:middle;width:70px;transition:all 200ms;}</style>
</head>
<body>        <nav class="pdoc">
            <label id="navtoggle" for="togglestate" class="pdoc-button"><svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'><path stroke-linecap='round' stroke="currentColor" stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/></svg></label>
            <input id="togglestate" type="checkbox">
            <div>





                    <h2>API Documentation</h2>
                        <ul class="memberlist">
            <li>
                    <a class="class" href="#Puzzle">Puzzle</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#Puzzle.__init__">Puzzle</a>
                        </li>
                        <li>
                                <a class="variable" href="#Puzzle.question">question</a>
                        </li>
                        <li>
                                <a class="variable" href="#Puzzle.score">score</a>
                        </li>
                        <li>
                                <a class="variable" href="#Puzzle.checker">checker</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="variable" href="#PuzzleTemplate">PuzzleTemplate</a>
            </li>
            <li>
                    <a class="variable" href="#AutoGrader">AutoGrader</a>
            </li>
            <li>
                    <a class="class" href="#File">File</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#File.__init__">File</a>
                        </li>
                        <li>
                                <a class="function" href="#File.home">home</a>
                        </li>
                        <li>
                                <a class="variable" href="#File.children">children</a>
                        </li>
                        <li>
                                <a class="variable" href="#File.path">path</a>
                        </li>
                        <li>
                                <a class="function" href="#File.create">create</a>
                        </li>
                        <li>
                                <a class="function" href="#File.chown">chown</a>
                        </li>
                        <li>
                                <a class="function" href="#File.chmod">chmod</a>
                        </li>
                        <li>
                                <a class="variable" href="#File.permissions">permissions</a>
                        </li>
                        <li>
                                <a class="function" href="#File.random_file">random_file</a>
                        </li>
                        <li>
                                <a class="function" href="#File.random_shared_folder">random_shared_folder</a>
                        </li>
                        <li>
                                <a class="function" href="#File.mark_shared">mark_shared</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="function" href="#change_user">change_user</a>
            </li>
            <li>
                    <a class="function" href="#user_exists">user_exists</a>
            </li>
            <li>
                    <a class="class" href="#Permissions">Permissions</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#Permissions.__init__">Permissions</a>
                        </li>
                        <li>
                                <a class="variable" href="#Permissions.user">user</a>
                        </li>
                        <li>
                                <a class="variable" href="#Permissions.group">group</a>
                        </li>
                        <li>
                                <a class="variable" href="#Permissions.others">others</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#LinkedPermissions">LinkedPermissions</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#LinkedPermissions.__init__">LinkedPermissions</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#PermissionsGroup">PermissionsGroup</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#PermissionsGroup.__init__">PermissionsGroup</a>
                        </li>
                        <li>
                                <a class="variable" href="#PermissionsGroup.read">read</a>
                        </li>
                        <li>
                                <a class="variable" href="#PermissionsGroup.write">write</a>
                        </li>
                        <li>
                                <a class="variable" href="#PermissionsGroup.execute">execute</a>
                        </li>
                        <li>
                                <a class="function" href="#PermissionsGroup.from_str">from_str</a>
                        </li>
                        <li>
                                <a class="function" href="#PermissionsGroup.from_int">from_int</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#LinkedPermissionsGroup">LinkedPermissionsGroup</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#LinkedPermissionsGroup.__init__">LinkedPermissionsGroup</a>
                        </li>
                        <li>
                                <a class="variable" href="#LinkedPermissionsGroup.read">read</a>
                        </li>
                        <li>
                                <a class="variable" href="#LinkedPermissionsGroup.write">write</a>
                        </li>
                        <li>
                                <a class="variable" href="#LinkedPermissionsGroup.execute">execute</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#RandomHelper">RandomHelper</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#RandomHelper.__init__">RandomHelper</a>
                        </li>
                        <li>
                                <a class="function" href="#RandomHelper.name">name</a>
                        </li>
                        <li>
                                <a class="function" href="#RandomHelper.paragraphs">paragraphs</a>
                        </li>
                        <li>
                                <a class="function" href="#RandomHelper.file">file</a>
                        </li>
                        <li>
                                <a class="function" href="#RandomHelper.folder">folder</a>
                        </li>
                        <li>
                                <a class="function" href="#RandomHelper.mark_shared">mark_shared</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#RandomHelperException">RandomHelperException</a>
                            <ul class="memberlist">
                </ul>

            </li>
            <li>
                    <a class="function" href="#rand">rand</a>
            </li>
    </ul>


                    <a class="attribution" title="pdoc: Python API documentation generator" href="https://pdoc.dev">
                        built with <span class="visually-hidden">pdoc</span><img
                            alt="pdoc logo"
                            src="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20role%3D%22img%22%20aria-label%3D%22pdoc%20logo%22%20width%3D%22300%22%20height%3D%22150%22%20viewBox%3D%22-1%200%2060%2030%22%3E%3Ctitle%3Epdoc%3C/title%3E%3Cpath%20d%3D%22M29.621%2021.293c-.011-.273-.214-.475-.511-.481a.5.5%200%200%200-.489.503l-.044%201.393c-.097.551-.695%201.215-1.566%201.704-.577.428-1.306.486-2.193.182-1.426-.617-2.467-1.654-3.304-2.487l-.173-.172a3.43%203.43%200%200%200-.365-.306.49.49%200%200%200-.286-.196c-1.718-1.06-4.931-1.47-7.353.191l-.219.15c-1.707%201.187-3.413%202.131-4.328%201.03-.02-.027-.49-.685-.141-1.763.233-.721.546-2.408.772-4.076.042-.09.067-.187.046-.288.166-1.347.277-2.625.241-3.351%201.378-1.008%202.271-2.586%202.271-4.362%200-.976-.272-1.935-.788-2.774-.057-.094-.122-.18-.184-.268.033-.167.052-.339.052-.516%200-1.477-1.202-2.679-2.679-2.679-.791%200-1.496.352-1.987.9a6.3%206.3%200%200%200-1.001.029c-.492-.564-1.207-.929-2.012-.929-1.477%200-2.679%201.202-2.679%202.679A2.65%202.65%200%200%200%20.97%206.554c-.383.747-.595%201.572-.595%202.41%200%202.311%201.507%204.29%203.635%205.107-.037.699-.147%202.27-.423%203.294l-.137.461c-.622%202.042-2.515%208.257%201.727%2010.643%201.614.908%203.06%201.248%204.317%201.248%202.665%200%204.492-1.524%205.322-2.401%201.476-1.559%202.886-1.854%206.491.82%201.877%201.393%203.514%201.753%204.861%201.068%202.223-1.713%202.811-3.867%203.399-6.374.077-.846.056-1.469.054-1.537zm-4.835%204.313c-.054.305-.156.586-.242.629-.034-.007-.131-.022-.307-.157-.145-.111-.314-.478-.456-.908.221.121.432.25.675.355.115.039.219.051.33.081zm-2.251-1.238c-.05.33-.158.648-.252.694-.022.001-.125-.018-.307-.157-.217-.166-.488-.906-.639-1.573.358.344.754.693%201.198%201.036zm-3.887-2.337c-.006-.116-.018-.231-.041-.342.635.145%201.189.368%201.599.625.097.231.166.481.174.642-.03.049-.055.101-.067.158-.046.013-.128.026-.298.004-.278-.037-.901-.57-1.367-1.087zm-1.127-.497c.116.306.176.625.12.71-.019.014-.117.045-.345.016-.206-.027-.604-.332-.986-.695.41-.051.816-.056%201.211-.031zm-4.535%201.535c.209.22.379.47.358.598-.006.041-.088.138-.351.234-.144.055-.539-.063-.979-.259a11.66%2011.66%200%200%200%20.972-.573zm.983-.664c.359-.237.738-.418%201.126-.554.25.237.479.548.457.694-.006.042-.087.138-.351.235-.174.064-.694-.105-1.232-.375zm-3.381%201.794c-.022.145-.061.29-.149.401-.133.166-.358.248-.69.251h-.002c-.133%200-.306-.26-.45-.621.417.091.854.07%201.291-.031zm-2.066-8.077a4.78%204.78%200%200%201-.775-.584c.172-.115.505-.254.88-.378l-.105.962zm-.331%202.302a10.32%2010.32%200%200%201-.828-.502c.202-.143.576-.328.984-.49l-.156.992zm-.45%202.157l-.701-.403c.214-.115.536-.249.891-.376a11.57%2011.57%200%200%201-.19.779zm-.181%201.716c.064.398.194.702.298.893-.194-.051-.435-.162-.736-.398.061-.119.224-.3.438-.495zM8.87%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zm-.735-.389a1.15%201.15%200%200%200-.314.783%201.16%201.16%200%200%200%201.162%201.162c.457%200%20.842-.27%201.032-.653.026.117.042.238.042.362a1.68%201.68%200%200%201-1.679%201.679%201.68%201.68%200%200%201-1.679-1.679c0-.843.626-1.535%201.436-1.654zM5.059%205.406A1.68%201.68%200%200%201%203.38%207.085a1.68%201.68%200%200%201-1.679-1.679c0-.037.009-.072.011-.109.21.3.541.508.935.508a1.16%201.16%200%200%200%201.162-1.162%201.14%201.14%200%200%200-.474-.912c.015%200%20.03-.005.045-.005.926.001%201.679.754%201.679%201.68zM3.198%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zM1.375%208.964c0-.52.103-1.035.288-1.52.466.394%201.06.64%201.717.64%201.144%200%202.116-.725%202.499-1.738.383%201.012%201.355%201.738%202.499%201.738.867%200%201.631-.421%202.121-1.062.307.605.478%201.267.478%201.942%200%202.486-2.153%204.51-4.801%204.51s-4.801-2.023-4.801-4.51zm24.342%2019.349c-.985.498-2.267.168-3.813-.979-3.073-2.281-5.453-3.199-7.813-.705-1.315%201.391-4.163%203.365-8.423.97-3.174-1.786-2.239-6.266-1.261-9.479l.146-.492c.276-1.02.395-2.457.444-3.268a6.11%206.11%200%200%200%201.18.115%206.01%206.01%200%200%200%202.536-.562l-.006.175c-.802.215-1.848.612-2.021%201.25-.079.295.021.601.274.837.219.203.415.364.598.501-.667.304-1.243.698-1.311%201.179-.02.144-.022.507.393.787.213.144.395.26.564.365-1.285.521-1.361.96-1.381%201.126-.018.142-.011.496.427.746l.854.489c-.473.389-.971.914-.999%201.429-.018.278.095.532.316.713.675.556%201.231.721%201.653.721.059%200%20.104-.014.158-.02.207.707.641%201.64%201.513%201.64h.013c.8-.008%201.236-.345%201.462-.626.173-.216.268-.457.325-.692.424.195.93.374%201.372.374.151%200%20.294-.021.423-.068.732-.27.944-.704.993-1.021.009-.061.003-.119.002-.179.266.086.538.147.789.147.15%200%20.294-.021.423-.069.542-.2.797-.489.914-.754.237.147.478.258.704.288.106.014.205.021.296.021.356%200%20.595-.101.767-.229.438.435%201.094.992%201.656%201.067.106.014.205.021.296.021a1.56%201.56%200%200%200%20.323-.035c.17.575.453%201.289.866%201.605.358.273.665.362.914.362a.99.99%200%200%200%20.421-.093%201.03%201.03%200%200%200%20.245-.164c.168.428.39.846.68%201.068.358.273.665.362.913.362a.99.99%200%200%200%20.421-.093c.317-.148.512-.448.639-.762.251.157.495.257.726.257.127%200%20.25-.024.37-.071.427-.17.706-.617.841-1.314.022-.015.047-.022.068-.038.067-.051.133-.104.196-.159-.443%201.486-1.107%202.761-2.086%203.257zM8.66%209.925a.5.5%200%201%200-1%200c0%20.653-.818%201.205-1.787%201.205s-1.787-.552-1.787-1.205a.5.5%200%201%200-1%200c0%201.216%201.25%202.205%202.787%202.205s2.787-.989%202.787-2.205zm4.4%2015.965l-.208.097c-2.661%201.258-4.708%201.436-6.086.527-1.542-1.017-1.88-3.19-1.844-4.198a.4.4%200%200%200-.385-.414c-.242-.029-.406.164-.414.385-.046%201.249.367%203.686%202.202%204.896.708.467%201.547.7%202.51.7%201.248%200%202.706-.392%204.362-1.174l.185-.086a.4.4%200%200%200%20.205-.527c-.089-.204-.326-.291-.527-.206zM9.547%202.292c.093.077.205.114.317.114a.5.5%200%200%200%20.318-.886L8.817.397a.5.5%200%200%200-.703.068.5.5%200%200%200%20.069.703l1.364%201.124zm-7.661-.065c.086%200%20.173-.022.253-.068l1.523-.893a.5.5%200%200%200-.506-.863l-1.523.892a.5.5%200%200%200-.179.685c.094.158.261.247.432.247z%22%20transform%3D%22matrix%28-1%200%200%201%2058%200%29%22%20fill%3D%22%233bb300%22/%3E%3Cpath%20d%3D%22M.3%2021.86V10.18q0-.46.02-.68.04-.22.18-.5.28-.54%201.34-.54%201.06%200%201.42.28.38.26.44.78.76-1.04%202.38-1.04%201.64%200%203.1%201.54%201.46%201.54%201.46%203.58%200%202.04-1.46%203.58-1.44%201.54-3.08%201.54-1.64%200-2.38-.92v4.04q0%20.46-.04.68-.02.22-.18.5-.14.3-.5.42-.36.12-.98.12-.62%200-1-.12-.36-.12-.52-.4-.14-.28-.18-.5-.02-.22-.02-.68zm3.96-9.42q-.46.54-.46%201.18%200%20.64.46%201.18.48.52%201.2.52.74%200%201.24-.52.52-.52.52-1.18%200-.66-.48-1.18-.48-.54-1.26-.54-.76%200-1.22.54zm14.741-8.36q.16-.3.54-.42.38-.12%201-.12.64%200%201.02.12.38.12.52.42.16.3.18.54.04.22.04.68v11.94q0%20.46-.04.7-.02.22-.18.5-.3.54-1.7.54-1.38%200-1.54-.98-.84.96-2.34.96-1.8%200-3.28-1.56-1.48-1.58-1.48-3.66%200-2.1%201.48-3.68%201.5-1.58%203.28-1.58%201.48%200%202.3%201v-4.2q0-.46.02-.68.04-.24.18-.52zm-3.24%2010.86q.52.54%201.26.54.74%200%201.22-.54.5-.54.5-1.18%200-.66-.48-1.22-.46-.56-1.26-.56-.8%200-1.28.56-.48.54-.48%201.2%200%20.66.52%201.2zm7.833-1.2q0-2.4%201.68-3.96%201.68-1.56%203.84-1.56%202.16%200%203.82%201.56%201.66%201.54%201.66%203.94%200%201.66-.86%202.96-.86%201.28-2.1%201.9-1.22.6-2.54.6-1.32%200-2.56-.64-1.24-.66-2.1-1.92-.84-1.28-.84-2.88zm4.18%201.44q.64.48%201.3.48.66%200%201.32-.5.66-.5.66-1.48%200-.98-.62-1.46-.62-.48-1.34-.48-.72%200-1.34.5-.62.5-.62%201.48%200%20.96.64%201.46zm11.412-1.44q0%20.84.56%201.32.56.46%201.18.46.64%200%201.18-.36.56-.38.9-.38.6%200%201.46%201.06.46.58.46%201.04%200%20.76-1.1%201.42-1.14.8-2.8.8-1.86%200-3.58-1.34-.82-.64-1.34-1.7-.52-1.08-.52-2.36%200-1.3.52-2.34.52-1.06%201.34-1.7%201.66-1.32%203.54-1.32.76%200%201.48.22.72.2%201.06.4l.32.2q.36.24.56.38.52.4.52.92%200%20.5-.42%201.14-.72%201.1-1.38%201.1-.38%200-1.08-.44-.36-.34-1.04-.34-.66%200-1.24.48-.58.48-.58%201.34z%22%20fill%3D%22green%22/%3E%3C/svg%3E"/>
                    </a>
            </div>
        </nav>
    <main class="pdoc">
            <section>
                    <h1 class="modulename">
shell_adventure<wbr>.api    </h1>

                        <div class="docstring"><p>The <a href="">shell_adventure.api</a> package contains the classes and methods needed to make puzzle templates and autograders</p>
</div>

                        <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">The shell_adventure.api package contains the classes and methods needed to make puzzle templates and autograders</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">annotations</span>
<span class="kn">from</span> <span class="nn">shell_adventure.shared.puzzle</span> <span class="kn">import</span> <span class="n">Puzzle</span><span class="p">,</span> <span class="n">PuzzleTemplate</span><span class="p">,</span> <span class="n">AutoGrader</span>
<span class="kn">from</span> <span class="nn">.file</span> <span class="kn">import</span> <span class="n">File</span>
<span class="kn">from</span> <span class="nn">.permissions</span> <span class="kn">import</span> <span class="p">(</span><span class="n">change_user</span><span class="p">,</span> <span class="n">user_exists</span><span class="p">,</span> <span class="n">Permissions</span><span class="p">,</span> <span class="n">LinkedPermissions</span><span class="p">,</span>
                          <span class="n">PermissionsGroup</span><span class="p">,</span> <span class="n">LinkedPermissionsGroup</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">.random_helper</span> <span class="kn">import</span> <span class="n">RandomHelper</span><span class="p">,</span> <span class="n">RandomHelperException</span>

<span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span> <span class="k">as</span> <span class="n">_Path</span>

<span class="n">PKG_PATH</span> <span class="o">=</span> <span class="n">_Path</span><span class="p">(</span><span class="n">__path__</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">.</span><span class="n">resolve</span><span class="p">()</span> <span class="c1"># type: ignore  # mypy issue #1422</span>

<span class="c1"># Unfortunately we need some package level variables to allow File methods to access</span>
<span class="c1"># the RandomHelper and student home. They will be set when the tutorial is created.</span>
<span class="n">_home</span><span class="p">:</span> <span class="n">File</span> <span class="o">=</span> <span class="bp">None</span>
<span class="sd">&quot;&quot;&quot; Global that is set to the home of the student. &quot;&quot;&quot;</span>

<span class="n">_rand</span><span class="p">:</span> <span class="n">RandomHelper</span> <span class="o">=</span> <span class="bp">None</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Global that is set to the `RandomHelper` of the tutorial, so that `rand()` and `File` methods can access it.</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="c1"># After restart and pickling the lambdas we don&#39;t restore the RandomHelper state so we don&#39;t want you to be able to</span>
<span class="c1"># call it in autograder functions. So we make rand a function so that it doesn&#39;t get captured directly, that way we can</span>
<span class="c1"># set tutorial.rand to None and trying to use rand() will fail.</span>
<span class="c1"># TutorialDocker will set _rand when it runs.</span>
<span class="k">def</span> <span class="nf">rand</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">RandomHelper</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns the `RandomHelper` which should be used when creating random files and folders.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">_rand</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">RandomHelperException</span><span class="p">(</span><span class="s2">&quot;You can only use randomization in Puzzle templates, not autograders&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">_rand</span>

<span class="n">__all__</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">&quot;Puzzle&quot;</span><span class="p">,</span>
    <span class="s2">&quot;PuzzleTemplate&quot;</span><span class="p">,</span>
    <span class="s2">&quot;AutoGrader&quot;</span><span class="p">,</span>
    <span class="s2">&quot;File&quot;</span><span class="p">,</span>
    <span class="s2">&quot;change_user&quot;</span><span class="p">,</span>
    <span class="s2">&quot;user_exists&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Permissions&quot;</span><span class="p">,</span>
    <span class="s2">&quot;LinkedPermissions&quot;</span><span class="p">,</span>
    <span class="s2">&quot;PermissionsGroup&quot;</span><span class="p">,</span>
    <span class="s2">&quot;LinkedPermissionsGroup&quot;</span><span class="p">,</span>
    <span class="s2">&quot;RandomHelper&quot;</span><span class="p">,</span>
    <span class="s2">&quot;RandomHelperException&quot;</span><span class="p">,</span>
    <span class="s2">&quot;rand&quot;</span><span class="p">,</span>
<span class="p">]</span>
</pre></div>

        </details>

            </section>
                <section id="Puzzle">
                                <div class="attr class">
        <a class="headerlink" href="#Puzzle">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">Puzzle</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">Puzzle</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot; Represents a single puzzle in the tutorial. &quot;&quot;&quot;</span>

    <span class="n">question</span><span class="p">:</span> <span class="nb">str</span>

    <span class="n">score</span><span class="p">:</span> <span class="nb">int</span>

    <span class="n">checker</span><span class="p">:</span> <span class="n">AutoGrader</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    The function that will be used to autograde the puzzle.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">_allowed_checker_args</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;cwd&quot;</span><span class="p">,</span> <span class="s2">&quot;flag&quot;</span><span class="p">]</span>
    <span class="sd">&quot;&quot;&quot; A set of the checker args that are recognized. &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">question</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">checker</span><span class="p">:</span> <span class="n">AutoGrader</span><span class="p">,</span> <span class="n">score</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Construct a `Puzzle` object.</span>

<span class="sd">        Parameters:</span>

<span class="sd">        question:</span>
<span class="sd">            The question to be asked.</span>
<span class="sd">        checker:</span>
<span class="sd">            The function that will grade whether the puzzle was completed correctly or not.</span>
<span class="sd">            The checker function can take the following parameters. All parameters are optional, and order does not matter,</span>
<span class="sd">            but the parameters must have the same name as listed here:</span>
<span class="sd">                flag: str</span>
<span class="sd">                    If the flag parameter is present, an input dialog will be shown to the student when sumbitting a puzzle,</span>
<span class="sd">                    and their input will be passed to this parameter.</span>
<span class="sd">                cwd: File</span>
<span class="sd">                    The path to the students current directory</span>

<span class="sd">            The checker function should return a string or a boolean. If it returns True, the puzzle is solved. If it returns</span>
<span class="sd">            False or a string, the puzzle was not solved. Returning a string will show the string as feedback to the student.</span>
<span class="sd">        score:</span>
<span class="sd">            The score given on success. Defaults to 1.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">question</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span> <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;Puzzle.question should be a string.&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">callable</span><span class="p">(</span><span class="n">checker</span><span class="p">):</span> <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;Puzzle.checker should be a Callable.&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">score</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span> <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;Puzzle.score should be an int.&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">question</span> <span class="o">=</span> <span class="n">question</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">score</span> <span class="o">=</span> <span class="n">score</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checker</span> <span class="o">=</span> <span class="n">checker</span> <span class="c1"># type: ignore # MyPy fusses about &quot;Cannot assign to a method&quot;</span>

        <span class="n">extra_params</span> <span class="o">=</span> <span class="n">extra_func_params</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">checker</span><span class="p">,</span> <span class="n">Puzzle</span><span class="o">.</span><span class="n">_allowed_checker_args</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">extra_params</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">UnrecognizedParamsError</span><span class="p">(</span>
                <span class="n">f</span><span class="s1">&#39;Unrecognized param(s) {sentence_list(extra_params, quote = True)} in checker function.&#39;</span> <span class="o">+</span>
                <span class="n">f</span><span class="s1">&#39; Expected {sentence_list(Puzzle._allowed_checker_args, last_sep = &quot; and/or &quot;, quote = True)}.&#39;</span><span class="p">,</span>
                <span class="n">extra_params</span> <span class="o">=</span> <span class="n">extra_params</span>
            <span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Represents a single puzzle in the tutorial.</p>
</div>


                            <div id="Puzzle.__init__" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Puzzle.__init__">#&nbsp;&nbsp</a>

        
            <span class="name">Puzzle</span><span class="signature">(
    question: str,
    checker: Callable[..., Union[str, bool]],
    score: int = 1
)</span>
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">question</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">checker</span><span class="p">:</span> <span class="n">AutoGrader</span><span class="p">,</span> <span class="n">score</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Construct a `Puzzle` object.</span>

<span class="sd">        Parameters:</span>

<span class="sd">        question:</span>
<span class="sd">            The question to be asked.</span>
<span class="sd">        checker:</span>
<span class="sd">            The function that will grade whether the puzzle was completed correctly or not.</span>
<span class="sd">            The checker function can take the following parameters. All parameters are optional, and order does not matter,</span>
<span class="sd">            but the parameters must have the same name as listed here:</span>
<span class="sd">                flag: str</span>
<span class="sd">                    If the flag parameter is present, an input dialog will be shown to the student when sumbitting a puzzle,</span>
<span class="sd">                    and their input will be passed to this parameter.</span>
<span class="sd">                cwd: File</span>
<span class="sd">                    The path to the students current directory</span>

<span class="sd">            The checker function should return a string or a boolean. If it returns True, the puzzle is solved. If it returns</span>
<span class="sd">            False or a string, the puzzle was not solved. Returning a string will show the string as feedback to the student.</span>
<span class="sd">        score:</span>
<span class="sd">            The score given on success. Defaults to 1.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">question</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span> <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;Puzzle.question should be a string.&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">callable</span><span class="p">(</span><span class="n">checker</span><span class="p">):</span> <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;Puzzle.checker should be a Callable.&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">score</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span> <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;Puzzle.score should be an int.&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">question</span> <span class="o">=</span> <span class="n">question</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">score</span> <span class="o">=</span> <span class="n">score</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checker</span> <span class="o">=</span> <span class="n">checker</span> <span class="c1"># type: ignore # MyPy fusses about &quot;Cannot assign to a method&quot;</span>

        <span class="n">extra_params</span> <span class="o">=</span> <span class="n">extra_func_params</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">checker</span><span class="p">,</span> <span class="n">Puzzle</span><span class="o">.</span><span class="n">_allowed_checker_args</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">extra_params</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">UnrecognizedParamsError</span><span class="p">(</span>
                <span class="n">f</span><span class="s1">&#39;Unrecognized param(s) {sentence_list(extra_params, quote = True)} in checker function.&#39;</span> <span class="o">+</span>
                <span class="n">f</span><span class="s1">&#39; Expected {sentence_list(Puzzle._allowed_checker_args, last_sep = &quot; and/or &quot;, quote = True)}.&#39;</span><span class="p">,</span>
                <span class="n">extra_params</span> <span class="o">=</span> <span class="n">extra_params</span>
            <span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Construct a <code><a href="#Puzzle">Puzzle</a></code> object.</p>

<p>Parameters:</p>

<p>question:
    The question to be asked.
checker:
    The function that will grade whether the puzzle was completed correctly or not.
    The checker function can take the following parameters. All parameters are optional, and order does not matter,
    but the parameters must have the same name as listed here:
        flag: str
            If the flag parameter is present, an input dialog will be shown to the student when sumbitting a puzzle,
            and their input will be passed to this parameter.
        cwd: File
            The path to the students current directory</p>

<pre><code>The checker function should return a string or a boolean. If it returns True, the puzzle is solved. If it returns
False or a string, the puzzle was not solved. Returning a string will show the string as feedback to the student.
</code></pre>

<p>score:
    The score given on success. Defaults to 1.</p>
</div>


                            </div>
                            <div id="Puzzle.question" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Puzzle.question">#&nbsp;&nbsp</a>

        <span class="name">question</span><span class="annotation">: str</span>
    </div>

    

                            </div>
                            <div id="Puzzle.score" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Puzzle.score">#&nbsp;&nbsp</a>

        <span class="name">score</span><span class="annotation">: int</span>
    </div>

    

                            </div>
                            <div id="Puzzle.checker" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Puzzle.checker">#&nbsp;&nbsp</a>

        <span class="name">checker</span><span class="annotation">: Callable[..., Union[str, bool]]</span>
    </div>

            <div class="docstring"><p>The function that will be used to autograde the puzzle.</p>
</div>


                            </div>
                </section>
                <section id="PuzzleTemplate">
                                <div class="attr variable"><a class="headerlink" href="#PuzzleTemplate">#&nbsp;&nbsp</a>

        <span class="name">PuzzleTemplate</span><span class="default_value"> = typing.Callable[..., shell_adventure.shared.puzzle.Puzzle]</span>
    </div>

    

                </section>
                <section id="AutoGrader">
                                <div class="attr variable"><a class="headerlink" href="#AutoGrader">#&nbsp;&nbsp</a>

        <span class="name">AutoGrader</span><span class="default_value"> = typing.Callable[..., typing.Union[str, bool]]</span>
    </div>

    

                </section>
                <section id="File">
                                <div class="attr class">
        <a class="headerlink" href="#File">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">File</span><wbr>(<span class="base">pathlib.PosixPath</span>):
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">File</span><span class="p">(</span><span class="n">PosixPath</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    File is an extention of pathlib.PosixPath, with a few convenience methods added.</span>
<span class="sd">    Refer to pathlib documentation at [python.org](https://docs.python.org/3/library/pathlib.html)</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">home</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Return the home directory of the student. Equivalent to the &quot;home&quot; parameter in puzzle templates. &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">shell_adventure</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">_home</span><span class="p">:</span> <span class="c1"># Get home directory from tutorial</span>
            <span class="k">return</span> <span class="n">shell_adventure</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">_home</span>
        <span class="k">else</span><span class="p">:</span> <span class="c1"># Default to PosixPath</span>
            <span class="k">return</span> <span class="n">PosixPath</span><span class="o">.</span><span class="n">home</span><span class="p">()</span>


    <span class="c1"># === Convenience Methods ===</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">children</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">File</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        A property that returns a list of directory&#39;s contents. Raises `NotADirectoryError` if not a directory.</span>
<span class="sd">        Basically an alias of `Path.iterdir()` but returns a list instead of a generator.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">iterdir</span><span class="p">())</span> <span class="c1"># type: ignore</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">path</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot; A property that returns the absolute path to this file as a string. &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">resolve</span><span class="p">())</span>

    <span class="k">def</span> <span class="nf">create</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">mode</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span> <span class="n">exist_ok</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">recursive</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">content</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="bp">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">File</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        An combined version of `Path.mkdir()`, `Path.touch()`, `Path.chmod()` and `Path.write_text()`. It</span>
<span class="sd">        will `mkdir` missing dirs in the path if recursive is True (the default). New directories will use</span>
<span class="sd">        the default mode regardless of the `mode` parameter to match POSIX `mkdir -p` behavior. You can also</span>
<span class="sd">        specify a content string which will be written to the file.</span>

<span class="sd">        Returns self.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">recursive</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">parents</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">exist_ok</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span> <span class="c1"># mkdir is already recursive</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">touch</span><span class="p">(</span><span class="n">exist_ok</span> <span class="o">=</span> <span class="n">exist_ok</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">mode</span> <span class="o">!=</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">chmod</span><span class="p">(</span><span class="n">mode</span><span class="p">)</span> <span class="c1"># touch(mode=) combines with umask first which results in odd behavior</span>
        <span class="k">if</span> <span class="n">content</span> <span class="o">!=</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">write_text</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span>

    <span class="c1"># === Permissions ===</span>

    <span class="k">def</span> <span class="nf">chown</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">owner</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span> <span class="n">group</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Change owner and/or group of the given path. Automatically runs as root, you do not have to use `change_user()`</span>
<span class="sd">        before using `chown()`. user can be a system user name or a uid; the same applies to group. At least one</span>
<span class="sd">        argument is required. See also `os.chown()`, the underlying function.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">change_user</span><span class="p">(</span><span class="s2">&quot;root&quot;</span><span class="p">):</span> <span class="c1"># Automatically set privilege to root.</span>
            <span class="n">shutil</span><span class="o">.</span><span class="n">chown</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">owner</span><span class="p">,</span> <span class="n">group</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">chmod</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mode</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">]):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Overrides `Path.chmod()`. Automatically runs as root, you do not have to `change_user()` before using</span>
<span class="sd">        `chmod()`. You can pass it a mode as an int, ie. `0o777` like `Path.chmod()`, or you can pass it a string</span>
<span class="sd">        that the unix `chmod` command would recognize such as `&quot;u+x&quot;`. See the [chmod man page](https://linux.die.net/man/1/chmod)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">change_user</span><span class="p">(</span><span class="s2">&quot;root&quot;</span><span class="p">):</span> <span class="c1"># Automatically set privilege to root.</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">mode</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span> <span class="c1"># Just call chmod directly instead of trying to parse the mode string ourselves.</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span> <span class="k">raise</span> <span class="n">FileNotFoundError</span>
                <span class="n">process</span> <span class="o">=</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">run</span><span class="p">([</span><span class="s2">&quot;chmod&quot;</span><span class="p">,</span> <span class="n">mode</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">path</span><span class="p">])</span>
                <span class="k">if</span> <span class="n">process</span><span class="o">.</span><span class="n">returncode</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">f</span><span class="s1">&#39;Invalid mode &quot;{mode}&quot;&#39;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">chmod</span><span class="p">(</span><span class="n">mode</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">permissions</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">LinkedPermissions</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        A property that returns a `Permissions` object representing the permissions of this file.</span>
<span class="sd">        Eg.</span>
<span class="sd">        &gt;&gt;&gt; File(&quot;A.py&quot;).permissions.user.execute</span>
<span class="sd">        True</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">LinkedPermissions</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

    <span class="nd">@permissions.setter</span>
    <span class="k">def</span> <span class="nf">permissions</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">Permissions</span><span class="p">]):</span>
        <span class="sd">&quot;&quot;&quot; Set this `File`&#39;s permissions. &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="n">Permissions</span><span class="p">):</span>
            <span class="n">val</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">chmod</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>


    <span class="c1"># === Randomization ===</span>

    <span class="k">def</span> <span class="nf">random_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ext</span> <span class="o">=</span> <span class="bp">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">File</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates a `File` with a random name under self. The source for random names comes from the `name_dictionary` option</span>
<span class="sd">        in the Tutorial config. The file is not created on disk and is not marked as shared. To create the file on disk</span>
<span class="sd">        call `File.create()` or `mkdir()` on the file returned by `random_file()`. You can pass an extension which will be added</span>
<span class="sd">        to the random name. Will not create a file with a name that already exists.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">shell_adventure</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">rand</span><span class="p">()</span><span class="o">.</span><span class="n">file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ext</span> <span class="o">=</span> <span class="n">ext</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">random_shared_folder</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">depth</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="n">create_new_chance</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.5</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">File</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Makes a `File` to a random folder under this file. The folder may be several levels deep, and its parents may or may</span>
<span class="sd">        not exist. Its does not create the file or any parents on disk.</span>

<span class="sd">        The returned `File` can include new folders in the path with random names, and it can include existing folders that are</span>
<span class="sd">        &quot;shared&quot;. Folders are only &quot;shared&quot; if they were created via `random_shared_folder()` or explicitly marked shared via</span>
<span class="sd">        `mark_shared()`.</span>

<span class="sd">        Folders created by `random_shared_folder()` can be &quot;reused&quot; in other calls to `folder()`, so you should not modify</span>
<span class="sd">        the folders in puzzles. This way, folders created by puzzles won&#39;t interfere with one another, but multiple puzzles can</span>
<span class="sd">        still be created in the same directory. If you need a folder at a random location that won&#39;t have any other puzzles put</span>
<span class="sd">        in it you should explicitly create a folder under the one returned by `random_shared_folder()` with something like</span>
<span class="sd">        &gt;&gt;&gt; home.random_shared_folder().random_file().mkdir()</span>

<span class="sd">        depth: Either an int or a (min, max) tuple. Specifies the depth under parent of the returned file. If a tuple is given</span>
<span class="sd">               a random depth in rand [min, max] will be used.</span>
<span class="sd">        create_new_chance: float in [0, 1]. The percentage chance that a new folder will be created even if shared folders are</span>
<span class="sd">                           available. 0 means it will only choose existing folders unless there are none, 1 means it will only</span>
<span class="sd">                           create new folders.</span>

<span class="sd">        &gt;&gt;&gt; home = File(&quot;/home/student&quot;)</span>
<span class="sd">        &gt;&gt;&gt; home.random_shared_folder()</span>
<span class="sd">        File(&quot;/home/student/random/nested/folder&quot;)</span>
<span class="sd">        &gt;&gt;&gt; home.random_shared_folder()</span>
<span class="sd">        File(&quot;/home/student/apple/banana&quot;)</span>
<span class="sd">        &gt;&gt;&gt; folder.mkdir(parents = True) # random_shared_folder() doesn&#39;t create the file on disk. Use mkdir() with parents = True to make the folder.</span>
<span class="sd">        &gt;&gt;&gt; # Make a random nested folder, but make the last folder not &quot;shared&quot; so we can safely rm it</span>
<span class="sd">        &gt;&gt;&gt; home.random_shared_folder().random_file().mkdir()</span>
<span class="sd">        File(&quot;/home/student/orange/lime/tomato&quot;)</span>
<span class="sd">        &gt;&gt;&gt; home.random_shared_folder(create_new_chance = 0) # Will choose an existing &quot;shared&quot; folder</span>
<span class="sd">        File(&quot;/home/student/orange/lime&quot;)</span>
<span class="sd">        &gt;&gt;&gt; File(&quot;/&quot;).random_shared_folder(depth = [5, 6]) # Create a folder 5 or 6 levels under root</span>
<span class="sd">        File(&quot;/blueberry/lemon/watermellon/kiwi/strawberry&quot;)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">shell_adventure</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">rand</span><span class="p">()</span><span class="o">.</span><span class="n">folder</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">depth</span><span class="p">,</span> <span class="n">create_new_chance</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">mark_shared</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Marks the a `File` as shared. `File` should be a directory, though it does not have to exist yet. &quot;&quot;&quot;</span>
        <span class="n">shell_adventure</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">rand</span><span class="p">()</span><span class="o">.</span><span class="n">mark_shared</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>File is an extention of pathlib.PosixPath, with a few convenience methods added.
Refer to pathlib documentation at <a href="https://docs.python.org/3/library/pathlib.html">python.org</a></p>
</div>


                            <div id="File.__init__" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#File.__init__">#&nbsp;&nbsp</a>

        
            <span class="name">File</span><span class="signature">()</span>
    </div>

        
    

                            </div>
                            <div id="File.home" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#File.home">#&nbsp;&nbsp</a>

                <div class="decorator">@classmethod</div>

            <span class="def">def</span>
            <span class="name">home</span><span class="signature">(cls)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">home</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Return the home directory of the student. Equivalent to the &quot;home&quot; parameter in puzzle templates. &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">shell_adventure</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">_home</span><span class="p">:</span> <span class="c1"># Get home directory from tutorial</span>
            <span class="k">return</span> <span class="n">shell_adventure</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">_home</span>
        <span class="k">else</span><span class="p">:</span> <span class="c1"># Default to PosixPath</span>
            <span class="k">return</span> <span class="n">PosixPath</span><span class="o">.</span><span class="n">home</span><span class="p">()</span>
</pre></div>

        </details>

            <div class="docstring"><p>Return the home directory of the student. Equivalent to the "home" parameter in puzzle templates.</p>
</div>


                            </div>
                            <div id="File.children" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#File.children">#&nbsp;&nbsp</a>

        <span class="name">children</span><span class="annotation">: List[<a href="#file.File">shell_adventure.api.file.File</a>]</span>
    </div>

            <div class="docstring"><p>A property that returns a list of directory's contents. Raises <code>NotADirectoryError</code> if not a directory.
Basically an alias of <code>Path.iterdir()</code> but returns a list instead of a generator.</p>
</div>


                            </div>
                            <div id="File.path" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#File.path">#&nbsp;&nbsp</a>

        <span class="name">path</span><span class="annotation">: str</span>
    </div>

            <div class="docstring"><p>A property that returns the absolute path to this file as a string.</p>
</div>


                            </div>
                            <div id="File.create" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#File.create">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">create</span><span class="signature">(
    self,
    *,
    mode: int = None,
    exist_ok=True,
    recursive=True,
    content: str = None
) -&gt; <a href="#file.File">shell_adventure.api.file.File</a></span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">create</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">mode</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span> <span class="n">exist_ok</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">recursive</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">content</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="bp">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">File</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        An combined version of `Path.mkdir()`, `Path.touch()`, `Path.chmod()` and `Path.write_text()`. It</span>
<span class="sd">        will `mkdir` missing dirs in the path if recursive is True (the default). New directories will use</span>
<span class="sd">        the default mode regardless of the `mode` parameter to match POSIX `mkdir -p` behavior. You can also</span>
<span class="sd">        specify a content string which will be written to the file.</span>

<span class="sd">        Returns self.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">recursive</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">parents</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">exist_ok</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span> <span class="c1"># mkdir is already recursive</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">touch</span><span class="p">(</span><span class="n">exist_ok</span> <span class="o">=</span> <span class="n">exist_ok</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">mode</span> <span class="o">!=</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">chmod</span><span class="p">(</span><span class="n">mode</span><span class="p">)</span> <span class="c1"># touch(mode=) combines with umask first which results in odd behavior</span>
        <span class="k">if</span> <span class="n">content</span> <span class="o">!=</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">write_text</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span>
</pre></div>

        </details>

            <div class="docstring"><p>An combined version of <code>Path.mkdir()</code>, <code>Path.touch()</code>, <code>Path.chmod()</code> and <code>Path.write_text()</code>. It
will <code><a href="#File.mkdir">mkdir</a></code> missing dirs in the path if recursive is True (the default). New directories will use
the default mode regardless of the <code>mode</code> parameter to match POSIX <code>mkdir -p</code> behavior. You can also
specify a content string which will be written to the file.</p>

<p>Returns self.</p>
</div>


                            </div>
                            <div id="File.chown" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#File.chown">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">chown</span><span class="signature">(self, owner: Union[str, int] = None, group: Union[str, int] = None)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">chown</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">owner</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span> <span class="n">group</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Change owner and/or group of the given path. Automatically runs as root, you do not have to use `change_user()`</span>
<span class="sd">        before using `chown()`. user can be a system user name or a uid; the same applies to group. At least one</span>
<span class="sd">        argument is required. See also `os.chown()`, the underlying function.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">change_user</span><span class="p">(</span><span class="s2">&quot;root&quot;</span><span class="p">):</span> <span class="c1"># Automatically set privilege to root.</span>
            <span class="n">shutil</span><span class="o">.</span><span class="n">chown</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">owner</span><span class="p">,</span> <span class="n">group</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Change owner and/or group of the given path. Automatically runs as root, you do not have to use <code><a href="#change_user">change_user()</a></code>
before using <code><a href="#File.chown">chown()</a></code>. user can be a system user name or a uid; the same applies to group. At least one
argument is required. See also <code>os.chown()</code>, the underlying function.</p>
</div>


                            </div>
                            <div id="File.chmod" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#File.chmod">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">chmod</span><span class="signature">(self, mode: Union[str, int])</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">chmod</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mode</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">]):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Overrides `Path.chmod()`. Automatically runs as root, you do not have to `change_user()` before using</span>
<span class="sd">        `chmod()`. You can pass it a mode as an int, ie. `0o777` like `Path.chmod()`, or you can pass it a string</span>
<span class="sd">        that the unix `chmod` command would recognize such as `&quot;u+x&quot;`. See the [chmod man page](https://linux.die.net/man/1/chmod)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">change_user</span><span class="p">(</span><span class="s2">&quot;root&quot;</span><span class="p">):</span> <span class="c1"># Automatically set privilege to root.</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">mode</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span> <span class="c1"># Just call chmod directly instead of trying to parse the mode string ourselves.</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span> <span class="k">raise</span> <span class="n">FileNotFoundError</span>
                <span class="n">process</span> <span class="o">=</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">run</span><span class="p">([</span><span class="s2">&quot;chmod&quot;</span><span class="p">,</span> <span class="n">mode</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">path</span><span class="p">])</span>
                <span class="k">if</span> <span class="n">process</span><span class="o">.</span><span class="n">returncode</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">f</span><span class="s1">&#39;Invalid mode &quot;{mode}&quot;&#39;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">chmod</span><span class="p">(</span><span class="n">mode</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Overrides <code>Path.chmod()</code>. Automatically runs as root, you do not have to <code><a href="#change_user">change_user()</a></code> before using
<code><a href="#File.chmod">chmod()</a></code>. You can pass it a mode as an int, ie. <code>0o777</code> like <code>Path.chmod()</code>, or you can pass it a string
that the unix <code><a href="#File.chmod">chmod</a></code> command would recognize such as <code>"u+x"</code>. See the <a href="https://linux.die.net/man/1/chmod">chmod man page</a></p>
</div>


                            </div>
                            <div id="File.permissions" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#File.permissions">#&nbsp;&nbsp</a>

        <span class="name">permissions</span><span class="annotation">: <a href="#permissions.LinkedPermissions">shell_adventure.api.permissions.LinkedPermissions</a></span>
    </div>

            <div class="docstring"><p>A property that returns a <code><a href="#Permissions">Permissions</a></code> object representing the permissions of this file.
Eg.</p>

<div class="codehilite"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">File</span><span class="p">(</span><span class="s2">&quot;A.py&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">permissions</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">execute</span>
<span class="go">True</span>
</code></pre></div>
</div>


                            </div>
                            <div id="File.random_file" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#File.random_file">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">random_file</span><span class="signature">(self, ext=None) -&gt; <a href="#file.File">shell_adventure.api.file.File</a></span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">random_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ext</span> <span class="o">=</span> <span class="bp">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">File</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates a `File` with a random name under self. The source for random names comes from the `name_dictionary` option</span>
<span class="sd">        in the Tutorial config. The file is not created on disk and is not marked as shared. To create the file on disk</span>
<span class="sd">        call `File.create()` or `mkdir()` on the file returned by `random_file()`. You can pass an extension which will be added</span>
<span class="sd">        to the random name. Will not create a file with a name that already exists.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">shell_adventure</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">rand</span><span class="p">()</span><span class="o">.</span><span class="n">file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ext</span> <span class="o">=</span> <span class="n">ext</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Creates a <code><a href="#File">File</a></code> with a random name under self. The source for random names comes from the <code>name_dictionary</code> option
in the Tutorial config. The file is not created on disk and is not marked as shared. To create the file on disk
call <code><a href="#File.create">File.create()</a></code> or <code><a href="#File.mkdir">mkdir()</a></code> on the file returned by <code><a href="#File.random_file">random_file()</a></code>. You can pass an extension which will be added
to the random name. Will not create a file with a name that already exists.</p>
</div>


                            </div>
                            <div id="File.random_shared_folder" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#File.random_shared_folder">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">random_shared_folder</span><span class="signature">(
    self,
    depth: Union[int, Tuple[int, int]] = (1, 3),
    create_new_chance: float = 0.5
) -&gt; <a href="#file.File">shell_adventure.api.file.File</a></span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">random_shared_folder</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">depth</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="n">create_new_chance</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.5</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">File</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Makes a `File` to a random folder under this file. The folder may be several levels deep, and its parents may or may</span>
<span class="sd">        not exist. Its does not create the file or any parents on disk.</span>

<span class="sd">        The returned `File` can include new folders in the path with random names, and it can include existing folders that are</span>
<span class="sd">        &quot;shared&quot;. Folders are only &quot;shared&quot; if they were created via `random_shared_folder()` or explicitly marked shared via</span>
<span class="sd">        `mark_shared()`.</span>

<span class="sd">        Folders created by `random_shared_folder()` can be &quot;reused&quot; in other calls to `folder()`, so you should not modify</span>
<span class="sd">        the folders in puzzles. This way, folders created by puzzles won&#39;t interfere with one another, but multiple puzzles can</span>
<span class="sd">        still be created in the same directory. If you need a folder at a random location that won&#39;t have any other puzzles put</span>
<span class="sd">        in it you should explicitly create a folder under the one returned by `random_shared_folder()` with something like</span>
<span class="sd">        &gt;&gt;&gt; home.random_shared_folder().random_file().mkdir()</span>

<span class="sd">        depth: Either an int or a (min, max) tuple. Specifies the depth under parent of the returned file. If a tuple is given</span>
<span class="sd">               a random depth in rand [min, max] will be used.</span>
<span class="sd">        create_new_chance: float in [0, 1]. The percentage chance that a new folder will be created even if shared folders are</span>
<span class="sd">                           available. 0 means it will only choose existing folders unless there are none, 1 means it will only</span>
<span class="sd">                           create new folders.</span>

<span class="sd">        &gt;&gt;&gt; home = File(&quot;/home/student&quot;)</span>
<span class="sd">        &gt;&gt;&gt; home.random_shared_folder()</span>
<span class="sd">        File(&quot;/home/student/random/nested/folder&quot;)</span>
<span class="sd">        &gt;&gt;&gt; home.random_shared_folder()</span>
<span class="sd">        File(&quot;/home/student/apple/banana&quot;)</span>
<span class="sd">        &gt;&gt;&gt; folder.mkdir(parents = True) # random_shared_folder() doesn&#39;t create the file on disk. Use mkdir() with parents = True to make the folder.</span>
<span class="sd">        &gt;&gt;&gt; # Make a random nested folder, but make the last folder not &quot;shared&quot; so we can safely rm it</span>
<span class="sd">        &gt;&gt;&gt; home.random_shared_folder().random_file().mkdir()</span>
<span class="sd">        File(&quot;/home/student/orange/lime/tomato&quot;)</span>
<span class="sd">        &gt;&gt;&gt; home.random_shared_folder(create_new_chance = 0) # Will choose an existing &quot;shared&quot; folder</span>
<span class="sd">        File(&quot;/home/student/orange/lime&quot;)</span>
<span class="sd">        &gt;&gt;&gt; File(&quot;/&quot;).random_shared_folder(depth = [5, 6]) # Create a folder 5 or 6 levels under root</span>
<span class="sd">        File(&quot;/blueberry/lemon/watermellon/kiwi/strawberry&quot;)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">shell_adventure</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">rand</span><span class="p">()</span><span class="o">.</span><span class="n">folder</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">depth</span><span class="p">,</span> <span class="n">create_new_chance</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Makes a <code><a href="#File">File</a></code> to a random folder under this file. The folder may be several levels deep, and its parents may or may
not exist. Its does not create the file or any parents on disk.</p>

<p>The returned <code><a href="#File">File</a></code> can include new folders in the path with random names, and it can include existing folders that are
"shared". Folders are only "shared" if they were created via <code><a href="#File.random_shared_folder">random_shared_folder()</a></code> or explicitly marked shared via
<code><a href="#File.mark_shared">mark_shared()</a></code>.</p>

<p>Folders created by <code><a href="#File.random_shared_folder">random_shared_folder()</a></code> can be "reused" in other calls to <code>folder()</code>, so you should not modify
the folders in puzzles. This way, folders created by puzzles won't interfere with one another, but multiple puzzles can
still be created in the same directory. If you need a folder at a random location that won't have any other puzzles put
in it you should explicitly create a folder under the one returned by <code><a href="#File.random_shared_folder">random_shared_folder()</a></code> with something like</p>

<div class="codehilite"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">home</span><span class="o">.</span><span class="n">random_shared_folder</span><span class="p">()</span><span class="o">.</span><span class="n">random_file</span><span class="p">()</span><span class="o">.</span><span class="n">mkdir</span><span class="p">()</span>
</code></pre></div>

<p>depth: Either an int or a (min, max) tuple. Specifies the depth under parent of the returned file. If a tuple is given
       a random depth in rand [min, max] will be used.
create_new_chance: float in [0, 1]. The percentage chance that a new folder will be created even if shared folders are
                   available. 0 means it will only choose existing folders unless there are none, 1 means it will only
                   create new folders.</p>

<div class="codehilite"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">home</span> <span class="o">=</span> <span class="n">File</span><span class="p">(</span><span class="s2">&quot;/home/student&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">home</span><span class="o">.</span><span class="n">random_shared_folder</span><span class="p">()</span>
<span class="go">File(&quot;/home/student/random/nested/folder&quot;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">home</span><span class="o">.</span><span class="n">random_shared_folder</span><span class="p">()</span>
<span class="go">File(&quot;/home/student/apple/banana&quot;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">folder</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">parents</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span> <span class="c1"># random_shared_folder() doesn&#39;t create the file on disk. Use mkdir() with parents = True to make the folder.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Make a random nested folder, but make the last folder not &quot;shared&quot; so we can safely rm it</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">home</span><span class="o">.</span><span class="n">random_shared_folder</span><span class="p">()</span><span class="o">.</span><span class="n">random_file</span><span class="p">()</span><span class="o">.</span><span class="n">mkdir</span><span class="p">()</span>
<span class="go">File(&quot;/home/student/orange/lime/tomato&quot;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">home</span><span class="o">.</span><span class="n">random_shared_folder</span><span class="p">(</span><span class="n">create_new_chance</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span> <span class="c1"># Will choose an existing &quot;shared&quot; folder</span>
<span class="go">File(&quot;/home/student/orange/lime&quot;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">File</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">random_shared_folder</span><span class="p">(</span><span class="n">depth</span> <span class="o">=</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">])</span> <span class="c1"># Create a folder 5 or 6 levels under root</span>
<span class="go">File(&quot;/blueberry/lemon/watermellon/kiwi/strawberry&quot;)</span>
</code></pre></div>
</div>


                            </div>
                            <div id="File.mark_shared" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#File.mark_shared">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">mark_shared</span><span class="signature">(self)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">mark_shared</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Marks the a `File` as shared. `File` should be a directory, though it does not have to exist yet. &quot;&quot;&quot;</span>
        <span class="n">shell_adventure</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">rand</span><span class="p">()</span><span class="o">.</span><span class="n">mark_shared</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Marks the a <code><a href="#File">File</a></code> as shared. <code><a href="#File">File</a></code> should be a directory, though it does not have to exist yet.</p>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>pathlib.Path</dt>
                                <dd id="File.cwd" class="function">cwd</dd>
                <dd id="File.samefile" class="function">samefile</dd>
                <dd id="File.iterdir" class="function">iterdir</dd>
                <dd id="File.glob" class="function">glob</dd>
                <dd id="File.rglob" class="function">rglob</dd>
                <dd id="File.absolute" class="function">absolute</dd>
                <dd id="File.resolve" class="function">resolve</dd>
                <dd id="File.stat" class="function">stat</dd>
                <dd id="File.owner" class="function">owner</dd>
                <dd id="File.group" class="function">group</dd>
                <dd id="File.open" class="function">open</dd>
                <dd id="File.read_bytes" class="function">read_bytes</dd>
                <dd id="File.read_text" class="function">read_text</dd>
                <dd id="File.write_bytes" class="function">write_bytes</dd>
                <dd id="File.write_text" class="function">write_text</dd>
                <dd id="File.touch" class="function">touch</dd>
                <dd id="File.mkdir" class="function">mkdir</dd>
                <dd id="File.lchmod" class="function">lchmod</dd>
                <dd id="File.unlink" class="function">unlink</dd>
                <dd id="File.rmdir" class="function">rmdir</dd>
                <dd id="File.lstat" class="function">lstat</dd>
                <dd id="File.rename" class="function">rename</dd>
                <dd id="File.replace" class="function">replace</dd>
                <dd id="File.symlink_to" class="function">symlink_to</dd>
                <dd id="File.link_to" class="function">link_to</dd>
                <dd id="File.exists" class="function">exists</dd>
                <dd id="File.is_dir" class="function">is_dir</dd>
                <dd id="File.is_file" class="function">is_file</dd>
                <dd id="File.is_mount" class="function">is_mount</dd>
                <dd id="File.is_symlink" class="function">is_symlink</dd>
                <dd id="File.is_block_device" class="function">is_block_device</dd>
                <dd id="File.is_char_device" class="function">is_char_device</dd>
                <dd id="File.is_fifo" class="function">is_fifo</dd>
                <dd id="File.is_socket" class="function">is_socket</dd>
                <dd id="File.expanduser" class="function">expanduser</dd>

            </div>
            <div><dt>pathlib.PurePath</dt>
                                <dd id="File.as_posix" class="function">as_posix</dd>
                <dd id="File.as_uri" class="function">as_uri</dd>
                <dd id="File.drive" class="variable">drive</dd>
                <dd id="File.root" class="variable">root</dd>
                <dd id="File.anchor" class="variable">anchor</dd>
                <dd id="File.name" class="variable">name</dd>
                <dd id="File.suffix" class="variable">suffix</dd>
                <dd id="File.suffixes" class="variable">suffixes</dd>
                <dd id="File.stem" class="variable">stem</dd>
                <dd id="File.with_name" class="function">with_name</dd>
                <dd id="File.with_suffix" class="function">with_suffix</dd>
                <dd id="File.relative_to" class="function">relative_to</dd>
                <dd id="File.parts" class="variable">parts</dd>
                <dd id="File.joinpath" class="function">joinpath</dd>
                <dd id="File.parent" class="variable">parent</dd>
                <dd id="File.parents" class="variable">parents</dd>
                <dd id="File.is_absolute" class="function">is_absolute</dd>
                <dd id="File.is_reserved" class="function">is_reserved</dd>
                <dd id="File.match" class="function">match</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="change_user">
                            <div class="attr function"><a class="headerlink" href="#change_user">#&nbsp;&nbsp</a>

                <div class="decorator">@contextmanager</div>

            <span class="def">def</span>
            <span class="name">change_user</span><span class="signature">(user: str, group: str = None)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span><span class="nd">@contextmanager</span>
<span class="k">def</span> <span class="nf">change_user</span><span class="p">(</span><span class="n">user</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">group</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="bp">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    `change_user()` is a context manager which changes the effective user of the process to user (by name), and changes</span>
<span class="sd">    it back when the context manager exits. Group will default to the group with the same name as user.</span>

<span class="sd">    Note that `os.system()` and the like will run as root regardles of `change_user` since it starts a new process.</span>

<span class="sd">    Example:</span>
<span class="sd">    &gt;&gt;&gt; with change_user(&quot;root&quot;):</span>
<span class="sd">    ...     File(&quot;root_file&quot;).create() # root will own this file</span>
<span class="sd">    &gt;&gt;&gt; File(&quot;student_file&quot;).create() # We are back to default user, student will own this file.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">group</span> <span class="o">=</span> <span class="n">group</span> <span class="k">if</span> <span class="n">group</span> <span class="k">else</span> <span class="n">user</span>
    <span class="n">prev_user</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">geteuid</span><span class="p">()</span>
    <span class="n">prev_group</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getegid</span><span class="p">()</span>

    <span class="n">uid</span> <span class="o">=</span> <span class="n">pwd</span><span class="o">.</span><span class="n">getpwnam</span><span class="p">(</span><span class="n">user</span><span class="p">)</span><span class="o">.</span><span class="n">pw_uid</span>
    <span class="n">gid</span> <span class="o">=</span> <span class="n">grp</span><span class="o">.</span><span class="n">getgrnam</span><span class="p">(</span><span class="n">group</span><span class="p">)</span><span class="o">.</span><span class="n">gr_gid</span>
    <span class="n">os</span><span class="o">.</span><span class="n">setegid</span><span class="p">(</span><span class="n">gid</span><span class="p">)</span>
    <span class="n">os</span><span class="o">.</span><span class="n">seteuid</span><span class="p">(</span><span class="n">uid</span><span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="k">yield</span> <span class="p">(</span><span class="n">uid</span><span class="p">,</span> <span class="n">gid</span><span class="p">)</span>
    <span class="k">finally</span><span class="p">:</span> <span class="c1"># change back to original user.</span>
        <span class="n">os</span><span class="o">.</span><span class="n">setegid</span><span class="p">(</span><span class="n">prev_user</span><span class="p">)</span>
        <span class="n">os</span><span class="o">.</span><span class="n">seteuid</span><span class="p">(</span><span class="n">prev_group</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p><code><a href="#change_user">change_user()</a></code> is a context manager which changes the effective user of the process to user (by name), and changes
it back when the context manager exits. Group will default to the group with the same name as user.</p>

<p>Note that <code>os.system()</code> and the like will run as root regardles of <code><a href="#change_user">change_user</a></code> since it starts a new process.</p>

<p>Example:</p>

<div class="codehilite"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">change_user</span><span class="p">(</span><span class="s2">&quot;root&quot;</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">File</span><span class="p">(</span><span class="s2">&quot;root_file&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">create</span><span class="p">()</span> <span class="c1"># root will own this file</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">File</span><span class="p">(</span><span class="s2">&quot;student_file&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">create</span><span class="p">()</span> <span class="c1"># We are back to default user, student will own this file.</span>
</code></pre></div>
</div>


                </section>
                <section id="user_exists">
                            <div class="attr function"><a class="headerlink" href="#user_exists">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">user_exists</span><span class="signature">(user: str)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">user_exists</span><span class="p">(</span><span class="n">user</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Returns True if the user exists (by their username) &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">pwd</span><span class="o">.</span><span class="n">getpwnam</span><span class="p">(</span><span class="n">user</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">True</span>
    <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">False</span>
</pre></div>

        </details>

            <div class="docstring"><p>Returns True if the user exists (by their username)</p>
</div>


                </section>
                <section id="Permissions">
                                <div class="attr class">
        <a class="headerlink" href="#Permissions">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">Permissions</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">Permissions</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Plain old data structure that represents basic Linux permissions, with user, group, and others sections.</span>
<span class="sd">    Currently doesn&#39;t include special permission bits such as the sticky bit.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">user</span><span class="p">:</span> <span class="n">PermissionsGroup</span>
    <span class="sd">&quot;&quot;&quot; User permission bits &quot;&quot;&quot;</span>
    <span class="n">group</span><span class="p">:</span> <span class="n">PermissionsGroup</span>
    <span class="sd">&quot;&quot;&quot; Group permission bits &quot;&quot;&quot;</span>
    <span class="n">others</span><span class="p">:</span> <span class="n">PermissionsGroup</span>
    <span class="sd">&quot;&quot;&quot; Others permission bits &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mode</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">user</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">group</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">others</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create a `Permissions` object. You can create one from an octal `int`, or by specifying user, group, and others</span>
<span class="sd">        with strings containing some combination of &quot;rwx&quot;.</span>
<span class="sd">        Eg.</span>
<span class="sd">        &gt;&gt;&gt; Permissions(0o777)</span>
<span class="sd">        &gt;&gt;&gt; Permissions(user = &quot;rw&quot;, group = &quot;r&quot;, others = &quot;&quot;)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">mode</span> <span class="o">!=</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">user</span> <span class="o">=</span> <span class="n">PermissionsGroup</span><span class="o">.</span><span class="n">from_int</span><span class="p">(</span><span class="n">mode</span> <span class="o">&gt;&gt;</span> <span class="mi">6</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">group</span> <span class="o">=</span> <span class="n">PermissionsGroup</span><span class="o">.</span><span class="n">from_int</span><span class="p">(</span><span class="n">mode</span> <span class="o">&gt;&gt;</span> <span class="mi">3</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">others</span> <span class="o">=</span> <span class="n">PermissionsGroup</span><span class="o">.</span><span class="n">from_int</span><span class="p">(</span><span class="n">mode</span> <span class="o">&gt;&gt;</span> <span class="mi">0</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">user</span> <span class="o">=</span> <span class="n">PermissionsGroup</span><span class="o">.</span><span class="n">from_str</span><span class="p">(</span><span class="n">user</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">group</span> <span class="o">=</span> <span class="n">PermissionsGroup</span><span class="o">.</span><span class="n">from_str</span><span class="p">(</span><span class="n">group</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">others</span> <span class="o">=</span> <span class="n">PermissionsGroup</span><span class="o">.</span><span class="n">from_str</span><span class="p">(</span><span class="n">others</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot; Compare `Permissions` objects. You can also compare a `Permissions` object with its octal representation. &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Permissions</span><span class="p">)</span> <span class="ow">or</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
            <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">==</span> <span class="nb">int</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;You can only compare Permissions with other Permissions or with ints&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__int__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns the integer representation of the permissions. Ie. 0o777 &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">user</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="mi">6</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">group</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="mi">3</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">others</span><span class="p">))</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the string representation of the permissions, as ls -l would.</span>
<span class="sd">        &gt;&gt;&gt; str(Permissions(0o764))</span>
<span class="sd">        &quot;rwx-rw-r--&quot;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">user</span><span class="p">)</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">group</span><span class="p">)</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">others</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">f</span><span class="s2">&quot;Permissions({oct(int(self))})&quot;</span>
</pre></div>

        </details>

            <div class="docstring"><p>Plain old data structure that represents basic Linux permissions, with user, group, and others sections.
Currently doesn't include special permission bits such as the sticky bit.</p>
</div>


                            <div id="Permissions.__init__" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Permissions.__init__">#&nbsp;&nbsp</a>

        
            <span class="name">Permissions</span><span class="signature">(
    mode: int = None,
    *,
    user: str = &#39;&#39;,
    group: str = &#39;&#39;,
    others: str = &#39;&#39;
)</span>
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mode</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">user</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">group</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">others</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create a `Permissions` object. You can create one from an octal `int`, or by specifying user, group, and others</span>
<span class="sd">        with strings containing some combination of &quot;rwx&quot;.</span>
<span class="sd">        Eg.</span>
<span class="sd">        &gt;&gt;&gt; Permissions(0o777)</span>
<span class="sd">        &gt;&gt;&gt; Permissions(user = &quot;rw&quot;, group = &quot;r&quot;, others = &quot;&quot;)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">mode</span> <span class="o">!=</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">user</span> <span class="o">=</span> <span class="n">PermissionsGroup</span><span class="o">.</span><span class="n">from_int</span><span class="p">(</span><span class="n">mode</span> <span class="o">&gt;&gt;</span> <span class="mi">6</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">group</span> <span class="o">=</span> <span class="n">PermissionsGroup</span><span class="o">.</span><span class="n">from_int</span><span class="p">(</span><span class="n">mode</span> <span class="o">&gt;&gt;</span> <span class="mi">3</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">others</span> <span class="o">=</span> <span class="n">PermissionsGroup</span><span class="o">.</span><span class="n">from_int</span><span class="p">(</span><span class="n">mode</span> <span class="o">&gt;&gt;</span> <span class="mi">0</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">user</span> <span class="o">=</span> <span class="n">PermissionsGroup</span><span class="o">.</span><span class="n">from_str</span><span class="p">(</span><span class="n">user</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">group</span> <span class="o">=</span> <span class="n">PermissionsGroup</span><span class="o">.</span><span class="n">from_str</span><span class="p">(</span><span class="n">group</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">others</span> <span class="o">=</span> <span class="n">PermissionsGroup</span><span class="o">.</span><span class="n">from_str</span><span class="p">(</span><span class="n">others</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Create a <code><a href="#Permissions">Permissions</a></code> object. You can create one from an octal <code>int</code>, or by specifying user, group, and others
with strings containing some combination of "rwx".
Eg.</p>

<div class="codehilite"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">Permissions</span><span class="p">(</span><span class="mi">0</span><span class="n">o777</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Permissions</span><span class="p">(</span><span class="n">user</span> <span class="o">=</span> <span class="s2">&quot;rw&quot;</span><span class="p">,</span> <span class="n">group</span> <span class="o">=</span> <span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="n">others</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
</code></pre></div>
</div>


                            </div>
                            <div id="Permissions.user" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Permissions.user">#&nbsp;&nbsp</a>

        <span class="name">user</span><span class="annotation">: <a href="#permissions.PermissionsGroup">shell_adventure.api.permissions.PermissionsGroup</a></span>
    </div>

            <div class="docstring"><p>User permission bits</p>
</div>


                            </div>
                            <div id="Permissions.group" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Permissions.group">#&nbsp;&nbsp</a>

        <span class="name">group</span><span class="annotation">: <a href="#permissions.PermissionsGroup">shell_adventure.api.permissions.PermissionsGroup</a></span>
    </div>

            <div class="docstring"><p>Group permission bits</p>
</div>


                            </div>
                            <div id="Permissions.others" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Permissions.others">#&nbsp;&nbsp</a>

        <span class="name">others</span><span class="annotation">: <a href="#permissions.PermissionsGroup">shell_adventure.api.permissions.PermissionsGroup</a></span>
    </div>

            <div class="docstring"><p>Others permission bits</p>
</div>


                            </div>
                </section>
                <section id="LinkedPermissions">
                                <div class="attr class">
        <a class="headerlink" href="#LinkedPermissions">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">LinkedPermissions</span><wbr>(<span class="base"><a href="#Permissions">shell_adventure.api.Permissions</a></span>):
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">LinkedPermissions</span><span class="p">(</span><span class="n">Permissions</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    `LinkedPermissions` is linked to an actual file. Modifying the `LinkedPermissions` object will modify the permissions of</span>
<span class="sd">    the actual file on disk.</span>

<span class="sd">    You can access and modify `File` permissions via the `File.permissions` property, which offers a more convenient API to manipulate</span>
<span class="sd">    UNIX file permissions than `os` and `stat` modules.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">file</span><span class="p">:</span> <span class="nb">file</span><span class="o">.</span><span class="n">File</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_file</span> <span class="o">=</span> <span class="nb">file</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">user</span> <span class="o">=</span> <span class="n">LinkedPermissionsGroup</span><span class="p">(</span><span class="nb">file</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">group</span> <span class="o">=</span> <span class="n">LinkedPermissionsGroup</span><span class="p">(</span><span class="nb">file</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">others</span> <span class="o">=</span> <span class="n">LinkedPermissionsGroup</span><span class="p">(</span><span class="nb">file</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p><code><a href="#LinkedPermissions">LinkedPermissions</a></code> is linked to an actual file. Modifying the <code><a href="#LinkedPermissions">LinkedPermissions</a></code> object will modify the permissions of
the actual file on disk.</p>

<p>You can access and modify <code><a href="#File">File</a></code> permissions via the <code><a href="#File.permissions">File.permissions</a></code> property, which offers a more convenient API to manipulate
UNIX file permissions than <code>os</code> and <code>stat</code> modules.</p>
</div>


                            <div id="LinkedPermissions.__init__" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#LinkedPermissions.__init__">#&nbsp;&nbsp</a>

        
            <span class="name">LinkedPermissions</span><span class="signature">(file: <a href="#file.File">shell_adventure.api.file.File</a>)</span>
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">file</span><span class="p">:</span> <span class="nb">file</span><span class="o">.</span><span class="n">File</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_file</span> <span class="o">=</span> <span class="nb">file</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">user</span> <span class="o">=</span> <span class="n">LinkedPermissionsGroup</span><span class="p">(</span><span class="nb">file</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">group</span> <span class="o">=</span> <span class="n">LinkedPermissionsGroup</span><span class="p">(</span><span class="nb">file</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">others</span> <span class="o">=</span> <span class="n">LinkedPermissionsGroup</span><span class="p">(</span><span class="nb">file</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Create a <code><a href="#Permissions">Permissions</a></code> object. You can create one from an octal <code>int</code>, or by specifying user, group, and others
with strings containing some combination of "rwx".
Eg.</p>

<div class="codehilite"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">Permissions</span><span class="p">(</span><span class="mi">0</span><span class="n">o777</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Permissions</span><span class="p">(</span><span class="n">user</span> <span class="o">=</span> <span class="s2">&quot;rw&quot;</span><span class="p">,</span> <span class="n">group</span> <span class="o">=</span> <span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="n">others</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
</code></pre></div>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt><a href="#Permissions">Permissions</a></dt>
                                <dd id="LinkedPermissions.user" class="variable"><a href="#Permissions.user">user</a></dd>
                <dd id="LinkedPermissions.group" class="variable"><a href="#Permissions.group">group</a></dd>
                <dd id="LinkedPermissions.others" class="variable"><a href="#Permissions.others">others</a></dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="PermissionsGroup">
                                <div class="attr class">
        <a class="headerlink" href="#PermissionsGroup">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">PermissionsGroup</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">PermissionsGroup</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Represents the read, write, and execute bits for either &quot;user&quot;, &quot;group&quot;, or &quot;other&quot;</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">read</span><span class="p">:</span> <span class="nb">bool</span>
    <span class="n">write</span><span class="p">:</span> <span class="nb">bool</span>
    <span class="n">execute</span><span class="p">:</span> <span class="nb">bool</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">read</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span> <span class="n">write</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span> <span class="n">execute</span><span class="p">:</span> <span class="nb">bool</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">read</span> <span class="o">=</span> <span class="n">read</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write</span> <span class="o">=</span> <span class="n">write</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">execute</span> <span class="o">=</span> <span class="n">execute</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">from_str</span><span class="p">(</span><span class="n">mode</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PermissionsGroup</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot; Takes a string in &quot;rwx&quot; format and returns a `PermissionsGroup` &quot;&quot;&quot;</span>
        <span class="n">mode_set</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">mode</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">mode_set</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">mode</span><span class="p">)</span> <span class="ow">and</span> <span class="n">mode_set</span><span class="o">.</span><span class="n">issubset</span><span class="p">({</span><span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">}):</span> <span class="c1"># only contains rwx, and only one of each</span>
            <span class="n">read</span> <span class="o">=</span> <span class="s2">&quot;r&quot;</span> <span class="ow">in</span> <span class="n">mode_set</span>
            <span class="n">write</span> <span class="o">=</span> <span class="s2">&quot;w&quot;</span> <span class="ow">in</span> <span class="n">mode_set</span>
            <span class="n">execute</span> <span class="o">=</span> <span class="s2">&quot;x&quot;</span> <span class="ow">in</span> <span class="n">mode_set</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">f</span><span class="s1">&#39;Invalid string &quot;{mode}&quot; for permissions, must only contain &quot;r&quot;, &quot;w&quot;, and/or &quot;x&quot;&#39;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">PermissionsGroup</span><span class="p">(</span><span class="n">read</span><span class="p">,</span> <span class="n">write</span><span class="p">,</span> <span class="n">execute</span><span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">from_int</span><span class="p">(</span><span class="n">mode</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PermissionsGroup</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot; Takes an int and assigns lowermost 3 bits to read/write/execute. Returns a `PermissionGroup` &quot;&quot;&quot;</span>
        <span class="n">read</span> <span class="o">=</span> <span class="nb">bool</span><span class="p">(</span><span class="n">mode</span> <span class="o">&amp;</span> <span class="mi">0</span><span class="n">o4</span><span class="p">)</span>
        <span class="n">write</span> <span class="o">=</span> <span class="nb">bool</span><span class="p">(</span><span class="n">mode</span> <span class="o">&amp;</span> <span class="mi">0</span><span class="n">o2</span><span class="p">)</span>
        <span class="n">execute</span> <span class="o">=</span> <span class="nb">bool</span><span class="p">(</span><span class="n">mode</span> <span class="o">&amp;</span> <span class="mi">0</span><span class="n">o1</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">PermissionsGroup</span><span class="p">(</span><span class="n">read</span><span class="p">,</span> <span class="n">write</span><span class="p">,</span> <span class="n">execute</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot; Compare `PermissionGroup` objects. You can also compare a `PermissionGroup` with its octal representation. &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">PermissionsGroup</span><span class="p">)</span> <span class="ow">or</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
            <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">==</span> <span class="nb">int</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;You can only compare Permissions with other Permissions or with ints&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__int__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Convert the `PermissionGroup` to an int by treating read/write/execute as bits. &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">read</span> <span class="o">&lt;&lt;</span> <span class="mi">2</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">write</span> <span class="o">&lt;&lt;</span> <span class="mi">1</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">execute</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Convert the `PermissionGroup` to an str in &quot;rwx&quot; format, eg. &quot;rw-&quot; or &quot;r--&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">(</span><span class="s2">&quot;r&quot;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">read</span> <span class="k">else</span> <span class="s2">&quot;-&quot;</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="s2">&quot;w&quot;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">write</span> <span class="k">else</span> <span class="s2">&quot;-&quot;</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="s2">&quot;x&quot;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">execute</span> <span class="k">else</span> <span class="s2">&quot;-&quot;</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Represents the read, write, and execute bits for either "user", "group", or "other"</p>
</div>


                            <div id="PermissionsGroup.__init__" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#PermissionsGroup.__init__">#&nbsp;&nbsp</a>

        
            <span class="name">PermissionsGroup</span><span class="signature">(read: bool, write: bool, execute: bool)</span>
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">read</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span> <span class="n">write</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span> <span class="n">execute</span><span class="p">:</span> <span class="nb">bool</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">read</span> <span class="o">=</span> <span class="n">read</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write</span> <span class="o">=</span> <span class="n">write</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">execute</span> <span class="o">=</span> <span class="n">execute</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="PermissionsGroup.read" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#PermissionsGroup.read">#&nbsp;&nbsp</a>

        <span class="name">read</span><span class="annotation">: bool</span>
    </div>

    

                            </div>
                            <div id="PermissionsGroup.write" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#PermissionsGroup.write">#&nbsp;&nbsp</a>

        <span class="name">write</span><span class="annotation">: bool</span>
    </div>

    

                            </div>
                            <div id="PermissionsGroup.execute" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#PermissionsGroup.execute">#&nbsp;&nbsp</a>

        <span class="name">execute</span><span class="annotation">: bool</span>
    </div>

    

                            </div>
                            <div id="PermissionsGroup.from_str" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#PermissionsGroup.from_str">#&nbsp;&nbsp</a>

                <div class="decorator">@staticmethod</div>

            <span class="def">def</span>
            <span class="name">from_str</span><span class="signature">(mode: str) -&gt; <a href="#permissions.PermissionsGroup">shell_adventure.api.permissions.PermissionsGroup</a></span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">from_str</span><span class="p">(</span><span class="n">mode</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PermissionsGroup</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot; Takes a string in &quot;rwx&quot; format and returns a `PermissionsGroup` &quot;&quot;&quot;</span>
        <span class="n">mode_set</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">mode</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">mode_set</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">mode</span><span class="p">)</span> <span class="ow">and</span> <span class="n">mode_set</span><span class="o">.</span><span class="n">issubset</span><span class="p">({</span><span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">}):</span> <span class="c1"># only contains rwx, and only one of each</span>
            <span class="n">read</span> <span class="o">=</span> <span class="s2">&quot;r&quot;</span> <span class="ow">in</span> <span class="n">mode_set</span>
            <span class="n">write</span> <span class="o">=</span> <span class="s2">&quot;w&quot;</span> <span class="ow">in</span> <span class="n">mode_set</span>
            <span class="n">execute</span> <span class="o">=</span> <span class="s2">&quot;x&quot;</span> <span class="ow">in</span> <span class="n">mode_set</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">f</span><span class="s1">&#39;Invalid string &quot;{mode}&quot; for permissions, must only contain &quot;r&quot;, &quot;w&quot;, and/or &quot;x&quot;&#39;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">PermissionsGroup</span><span class="p">(</span><span class="n">read</span><span class="p">,</span> <span class="n">write</span><span class="p">,</span> <span class="n">execute</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Takes a string in "rwx" format and returns a <code><a href="#PermissionsGroup">PermissionsGroup</a></code></p>
</div>


                            </div>
                            <div id="PermissionsGroup.from_int" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#PermissionsGroup.from_int">#&nbsp;&nbsp</a>

                <div class="decorator">@staticmethod</div>

            <span class="def">def</span>
            <span class="name">from_int</span><span class="signature">(mode: int) -&gt; <a href="#permissions.PermissionsGroup">shell_adventure.api.permissions.PermissionsGroup</a></span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">from_int</span><span class="p">(</span><span class="n">mode</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PermissionsGroup</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot; Takes an int and assigns lowermost 3 bits to read/write/execute. Returns a `PermissionGroup` &quot;&quot;&quot;</span>
        <span class="n">read</span> <span class="o">=</span> <span class="nb">bool</span><span class="p">(</span><span class="n">mode</span> <span class="o">&amp;</span> <span class="mi">0</span><span class="n">o4</span><span class="p">)</span>
        <span class="n">write</span> <span class="o">=</span> <span class="nb">bool</span><span class="p">(</span><span class="n">mode</span> <span class="o">&amp;</span> <span class="mi">0</span><span class="n">o2</span><span class="p">)</span>
        <span class="n">execute</span> <span class="o">=</span> <span class="nb">bool</span><span class="p">(</span><span class="n">mode</span> <span class="o">&amp;</span> <span class="mi">0</span><span class="n">o1</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">PermissionsGroup</span><span class="p">(</span><span class="n">read</span><span class="p">,</span> <span class="n">write</span><span class="p">,</span> <span class="n">execute</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Takes an int and assigns lowermost 3 bits to read/write/execute. Returns a <code>PermissionGroup</code></p>
</div>


                            </div>
                </section>
                <section id="LinkedPermissionsGroup">
                                <div class="attr class">
        <a class="headerlink" href="#LinkedPermissionsGroup">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">LinkedPermissionsGroup</span><wbr>(<span class="base"><a href="#PermissionsGroup">shell_adventure.api.PermissionsGroup</a></span>):
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">LinkedPermissionsGroup</span><span class="p">(</span><span class="n">PermissionsGroup</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Represents the read, write, and execute bits for either &quot;user&quot;, &quot;group&quot;, or &quot;other&quot;. Is linked to an actual file</span>
<span class="sd">    on disk. Modifying the `LinkedPermissionsGroup` will modify the file&#39;s permissions.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">_get_bit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mask</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot; Gets the read (0o4), write (0o2), or execute (0o1) bit. &quot;&quot;&quot;</span>
        <span class="n">mode</span> <span class="o">=</span> <span class="n">stat</span><span class="o">.</span><span class="n">S_IMODE</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_file</span><span class="o">.</span><span class="n">stat</span><span class="p">()</span><span class="o">.</span><span class="n">st_mode</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">bool</span><span class="p">((</span><span class="n">mode</span> <span class="o">&gt;&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">_bit_shift</span><span class="p">)</span> <span class="o">&amp;</span> <span class="n">mask</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_set_bit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mask</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">val</span><span class="p">:</span> <span class="nb">bool</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Gets the read (0o4), write (0o2), or execute (0o1) bit. &quot;&quot;&quot;</span>
        <span class="n">mode</span> <span class="o">=</span> <span class="n">stat</span><span class="o">.</span><span class="n">S_IMODE</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_file</span><span class="o">.</span><span class="n">stat</span><span class="p">()</span><span class="o">.</span><span class="n">st_mode</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">val</span><span class="p">:</span> <span class="c1"># set bit</span>
            <span class="n">mode</span> <span class="o">=</span> <span class="n">mode</span> <span class="o">|</span> <span class="p">(</span><span class="n">mask</span> <span class="o">&lt;&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">_bit_shift</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span> <span class="c1"># clear bit at mask</span>
            <span class="n">mode</span> <span class="o">=</span> <span class="n">mode</span> <span class="o">&amp;</span> <span class="o">~</span><span class="p">(</span><span class="n">mask</span> <span class="o">&lt;&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">_bit_shift</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_file</span><span class="o">.</span><span class="n">chmod</span><span class="p">(</span><span class="n">mode</span><span class="p">)</span>

    <span class="c1"># MyPy fusses at overriding field with property. See https://github.com/python/mypy/issues/4125</span>
    <span class="n">read</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="k">lambda</span> <span class="bp">self</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_bit</span><span class="p">(</span><span class="mi">0</span><span class="n">o4</span><span class="p">),</span> <span class="k">lambda</span> <span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_set_bit</span><span class="p">(</span><span class="mi">0</span><span class="n">o4</span><span class="p">,</span> <span class="n">val</span><span class="p">))</span> <span class="c1">#type: ignore</span>
    <span class="n">write</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="k">lambda</span> <span class="bp">self</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_bit</span><span class="p">(</span><span class="mi">0</span><span class="n">o2</span><span class="p">),</span> <span class="k">lambda</span> <span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_set_bit</span><span class="p">(</span><span class="mi">0</span><span class="n">o2</span><span class="p">,</span> <span class="n">val</span><span class="p">))</span> <span class="c1">#type: ignore</span>
    <span class="n">execute</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="k">lambda</span> <span class="bp">self</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_bit</span><span class="p">(</span><span class="mi">0</span><span class="n">o1</span><span class="p">),</span> <span class="k">lambda</span> <span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_set_bit</span><span class="p">(</span><span class="mi">0</span><span class="n">o1</span><span class="p">,</span> <span class="n">val</span><span class="p">))</span> <span class="c1">#type: ignore</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">file</span><span class="p">:</span> <span class="nb">file</span><span class="o">.</span><span class="n">File</span><span class="p">,</span> <span class="n">bit_shift</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        bit_shift is the number of bits to shift to the right to get the rwx bits in the lowest position</span>
<span class="sd">        user: 6, group: 3, others: 0</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_file</span> <span class="o">=</span> <span class="nb">file</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_bit_shift</span> <span class="o">=</span> <span class="n">bit_shift</span>
</pre></div>

        </details>

            <div class="docstring"><p>Represents the read, write, and execute bits for either "user", "group", or "other". Is linked to an actual file
on disk. Modifying the <code><a href="#LinkedPermissionsGroup">LinkedPermissionsGroup</a></code> will modify the file's permissions.</p>
</div>


                            <div id="LinkedPermissionsGroup.__init__" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#LinkedPermissionsGroup.__init__">#&nbsp;&nbsp</a>

        
            <span class="name">LinkedPermissionsGroup</span><span class="signature">(file: <a href="#file.File">shell_adventure.api.file.File</a>, bit_shift: int)</span>
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">file</span><span class="p">:</span> <span class="nb">file</span><span class="o">.</span><span class="n">File</span><span class="p">,</span> <span class="n">bit_shift</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        bit_shift is the number of bits to shift to the right to get the rwx bits in the lowest position</span>
<span class="sd">        user: 6, group: 3, others: 0</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_file</span> <span class="o">=</span> <span class="nb">file</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_bit_shift</span> <span class="o">=</span> <span class="n">bit_shift</span>
</pre></div>

        </details>

            <div class="docstring"><p>bit_shift is the number of bits to shift to the right to get the rwx bits in the lowest position
user: 6, group: 3, others: 0</p>
</div>


                            </div>
                            <div id="LinkedPermissionsGroup.read" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#LinkedPermissionsGroup.read">#&nbsp;&nbsp</a>

        <span class="name">read</span>
    </div>

    

                            </div>
                            <div id="LinkedPermissionsGroup.write" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#LinkedPermissionsGroup.write">#&nbsp;&nbsp</a>

        <span class="name">write</span>
    </div>

    

                            </div>
                            <div id="LinkedPermissionsGroup.execute" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#LinkedPermissionsGroup.execute">#&nbsp;&nbsp</a>

        <span class="name">execute</span>
    </div>

    

                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt><a href="#PermissionsGroup">PermissionsGroup</a></dt>
                                <dd id="LinkedPermissionsGroup.from_str" class="function"><a href="#PermissionsGroup.from_str">from_str</a></dd>
                <dd id="LinkedPermissionsGroup.from_int" class="function"><a href="#PermissionsGroup.from_int">from_int</a></dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="RandomHelper">
                                <div class="attr class">
        <a class="headerlink" href="#RandomHelper">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">RandomHelper</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">RandomHelper</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot; RandomHelper is a class that generates random names, contents, and file paths. &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name_dictionary</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">content_sources</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates a `RandomHelper`.</span>
<span class="sd">        name_dictionary is a string containing words, each on its own line.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">names</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">name_dictionary</span><span class="o">.</span><span class="n">splitlines</span><span class="p">())</span>
        <span class="n">names</span><span class="o">.</span><span class="n">discard</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span> <span class="c1"># remove empty entries</span>

        <span class="c1"># A list of strings that will be used to generate random names.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_name_dictionary</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">names</span><span class="p">)</span> <span class="c1"># choice() only works on list.</span>

        <span class="k">def</span> <span class="nf">clean_paragraph</span><span class="p">(</span><span class="n">paragraph</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
            <span class="c1"># paragraph = re.sub(r&quot;\s*\n\s*&quot;, &quot;&quot;, paragraph) # unwrap</span>
            <span class="n">paragraph</span> <span class="o">=</span> <span class="n">paragraph</span><span class="o">.</span><span class="n">rstrip</span><span class="p">()</span>
            <span class="n">paragraph</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">l</span> <span class="k">for</span> <span class="n">l</span> <span class="ow">in</span> <span class="n">paragraph</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span> <span class="k">if</span> <span class="n">l</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span><span class="p">])</span> <span class="c1"># remove blank lines.</span>
            <span class="k">return</span> <span class="n">paragraph</span>

        <span class="c1"># The sources that will be used to generate random content. List of files, each file is a list of paragraphs.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_content_sources</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">source</span> <span class="ow">in</span> <span class="n">content_sources</span><span class="p">:</span>
            <span class="n">paragraphs</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\s*\n\s*\n&quot;</span><span class="p">,</span> <span class="n">source</span><span class="p">)</span> <span class="c1"># split into paragraphs</span>
            <span class="n">paragraphs</span> <span class="o">=</span> <span class="p">[</span><span class="n">clean_paragraph</span><span class="p">(</span><span class="n">para</span><span class="p">)</span> <span class="k">for</span> <span class="n">para</span> <span class="ow">in</span> <span class="n">paragraphs</span> <span class="k">if</span> <span class="n">para</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span><span class="p">]</span>
            <span class="c1"># # split paragraphs into lists of sentences</span>
            <span class="c1"># para_sentences = [re.findall(r&quot;.*?\.\s+&quot;, para, flags = re.DOTALL) for para in paragraphs]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_content_sources</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">paragraphs</span><span class="p">)</span>

        <span class="c1"># A set of shared folders. random.folder() can use existing folders if they are shared.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_shared_folders</span><span class="p">:</span> <span class="n">Set</span><span class="p">[</span><span class="n">File</span><span class="p">]</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>


    <span class="k">def</span> <span class="nf">name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns a random word that can be used as a file name. The name is taken from the name_dictionary. &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_name_dictionary</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">RandomHelperException</span><span class="p">(</span><span class="s2">&quot;Out of unique names.&quot;</span><span class="p">)</span>
        <span class="n">choice</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_name_dictionary</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_name_dictionary</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">choice</span><span class="p">)</span> <span class="c1"># We can&#39;t choose the same name again.</span>
        <span class="k">return</span> <span class="n">choice</span>

    <span class="k">def</span> <span class="nf">paragraphs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">count</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return a random sequence of paragraphs from the content_sources.</span>
<span class="sd">        If no content sources are provided or there isn&#39;t enough content to provide the size it will default to a lorem ipsum generator.</span>

<span class="sd">        paramaters:</span>
<span class="sd">            count: Either an int or a (min, max) tuple. If a tuple is given, will return a random number of paragraphs</span>
<span class="sd">                   in the range, inclusive.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">count</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span> <span class="n">count</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="n">count</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">count</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
        <span class="c1"># filter sources too small for chosen size</span>
        <span class="n">sources</span> <span class="o">=</span> <span class="p">[</span><span class="n">source</span> <span class="k">for</span> <span class="n">source</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_content_sources</span> <span class="k">if</span> <span class="n">count</span> <span class="o">&lt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">source</span><span class="p">)]</span>

        <span class="k">if</span> <span class="n">sources</span><span class="p">:</span> <span class="c1"># If we have source</span>
            <span class="c1"># Weight the files so all paragraphs are equally likely regardless of source</span>
            <span class="n">weights</span> <span class="o">=</span> <span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">source</span><span class="p">)</span> <span class="o">-</span> <span class="n">count</span> <span class="o">+</span> <span class="mi">1</span> <span class="k">for</span> <span class="n">source</span> <span class="ow">in</span> <span class="n">sources</span><span class="p">]</span>
            <span class="p">[</span><span class="n">source</span><span class="p">]</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choices</span><span class="p">(</span><span class="n">sources</span><span class="p">,</span> <span class="n">k</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">weights</span> <span class="o">=</span> <span class="n">weights</span><span class="p">)</span>

            <span class="n">index</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">source</span><span class="p">)</span> <span class="o">-</span> <span class="n">count</span><span class="p">)</span>
            <span class="k">return</span> <span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">source</span><span class="p">[</span><span class="n">index</span><span class="p">:</span><span class="n">index</span><span class="o">+</span><span class="n">count</span><span class="p">])</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">lorem</span><span class="o">.</span><span class="n">get_paragraph</span><span class="p">(</span><span class="n">count</span> <span class="o">=</span> <span class="n">count</span><span class="p">,</span> <span class="n">sep</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span>

    <span class="k">def</span> <span class="nf">file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">:</span> <span class="n">PathLike</span><span class="p">,</span> <span class="n">ext</span> <span class="o">=</span> <span class="bp">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">File</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot; Creates a `File` with a random name. See `File.rand_file()` for more details. &quot;&quot;&quot;</span>
        <span class="n">parent</span> <span class="o">=</span> <span class="n">File</span><span class="p">(</span><span class="n">parent</span><span class="p">)</span><span class="o">.</span><span class="n">resolve</span><span class="p">()</span>
        <span class="n">ext</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span> <span class="k">if</span> <span class="n">ext</span> <span class="o">==</span> <span class="bp">None</span> <span class="k">else</span> <span class="n">f</span><span class="s2">&quot;.{ext}&quot;</span>
        <span class="n">new_file</span> <span class="o">=</span> <span class="n">File</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span> <span class="c1"># garanteed to exist.</span>

        <span class="c1"># check if file already exists. This can happen if a hardcoded name happens to match the random one.</span>
        <span class="k">while</span> <span class="n">new_file</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
            <span class="n">new_file</span> <span class="o">=</span> <span class="n">parent</span> <span class="o">/</span> <span class="n">f</span><span class="s2">&quot;{self.name()}{ext}&quot;</span>

        <span class="k">return</span> <span class="n">new_file</span>

    <span class="k">def</span> <span class="nf">folder</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">:</span> <span class="n">PathLike</span><span class="p">,</span> <span class="n">depth</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="n">create_new_chance</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.5</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">File</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot; Makes a `File` to a random folder under parent. See `File.random_shared_folder()` for more details. &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">depth</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span> <span class="n">depth</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="n">depth</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">depth</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
        <span class="n">folder</span> <span class="o">=</span> <span class="n">File</span><span class="p">(</span><span class="n">parent</span><span class="p">)</span><span class="o">.</span><span class="n">resolve</span><span class="p">()</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">depth</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">folder</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
                <span class="n">choices</span> <span class="o">=</span> <span class="p">[</span><span class="n">d</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">folder</span><span class="o">.</span><span class="n">iterdir</span><span class="p">()</span> <span class="k">if</span> <span class="n">d</span><span class="o">.</span><span class="n">is_dir</span><span class="p">()</span> <span class="ow">and</span> <span class="n">d</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_shared_folders</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">choices</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="c1"># Create new shared folder if no choices or random chance succeeds.</span>
            <span class="c1"># Add check for 1 since uniform() is an inclusive range</span>
            <span class="n">roll</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">choices</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">create_new_chance</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">or</span> <span class="n">roll</span> <span class="o">&lt;</span> <span class="n">create_new_chance</span><span class="p">:</span>
                <span class="n">folder</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">file</span><span class="p">(</span><span class="n">folder</span><span class="p">)</span> <span class="c1"># create random file under folder</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">mark_shared</span><span class="p">(</span><span class="n">folder</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">folder</span> <span class="o">=</span> <span class="n">File</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">choices</span><span class="p">))</span>

        <span class="k">return</span> <span class="n">folder</span>

    <span class="k">def</span> <span class="nf">mark_shared</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">folder</span><span class="p">:</span> <span class="n">PathLike</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Marks a folder as shared. The folder does not have to exist yet. &quot;&quot;&quot;</span>
        <span class="n">folder</span> <span class="o">=</span> <span class="n">File</span><span class="p">(</span><span class="n">folder</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">folder</span><span class="o">.</span><span class="n">exists</span><span class="p">()</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">folder</span><span class="o">.</span><span class="n">is_dir</span><span class="p">():</span>
            <span class="k">raise</span> <span class="n">RandomHelperException</span><span class="p">(</span><span class="n">f</span><span class="s2">&quot;Can&#39;t mark {folder} as shared, it already exists as a f. Can only mark folders as shared.&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_shared_folders</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">folder</span><span class="o">.</span><span class="n">resolve</span><span class="p">())</span>
</pre></div>

        </details>

            <div class="docstring"><p>RandomHelper is a class that generates random names, contents, and file paths.</p>
</div>


                            <div id="RandomHelper.__init__" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#RandomHelper.__init__">#&nbsp;&nbsp</a>

        
            <span class="name">RandomHelper</span><span class="signature">(name_dictionary: str, content_sources: List[str] = [])</span>
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name_dictionary</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">content_sources</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates a `RandomHelper`.</span>
<span class="sd">        name_dictionary is a string containing words, each on its own line.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">names</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">name_dictionary</span><span class="o">.</span><span class="n">splitlines</span><span class="p">())</span>
        <span class="n">names</span><span class="o">.</span><span class="n">discard</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span> <span class="c1"># remove empty entries</span>

        <span class="c1"># A list of strings that will be used to generate random names.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_name_dictionary</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">names</span><span class="p">)</span> <span class="c1"># choice() only works on list.</span>

        <span class="k">def</span> <span class="nf">clean_paragraph</span><span class="p">(</span><span class="n">paragraph</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
            <span class="c1"># paragraph = re.sub(r&quot;\s*\n\s*&quot;, &quot;&quot;, paragraph) # unwrap</span>
            <span class="n">paragraph</span> <span class="o">=</span> <span class="n">paragraph</span><span class="o">.</span><span class="n">rstrip</span><span class="p">()</span>
            <span class="n">paragraph</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">l</span> <span class="k">for</span> <span class="n">l</span> <span class="ow">in</span> <span class="n">paragraph</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span> <span class="k">if</span> <span class="n">l</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span><span class="p">])</span> <span class="c1"># remove blank lines.</span>
            <span class="k">return</span> <span class="n">paragraph</span>

        <span class="c1"># The sources that will be used to generate random content. List of files, each file is a list of paragraphs.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_content_sources</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">source</span> <span class="ow">in</span> <span class="n">content_sources</span><span class="p">:</span>
            <span class="n">paragraphs</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\s*\n\s*\n&quot;</span><span class="p">,</span> <span class="n">source</span><span class="p">)</span> <span class="c1"># split into paragraphs</span>
            <span class="n">paragraphs</span> <span class="o">=</span> <span class="p">[</span><span class="n">clean_paragraph</span><span class="p">(</span><span class="n">para</span><span class="p">)</span> <span class="k">for</span> <span class="n">para</span> <span class="ow">in</span> <span class="n">paragraphs</span> <span class="k">if</span> <span class="n">para</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span><span class="p">]</span>
            <span class="c1"># # split paragraphs into lists of sentences</span>
            <span class="c1"># para_sentences = [re.findall(r&quot;.*?\.\s+&quot;, para, flags = re.DOTALL) for para in paragraphs]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_content_sources</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">paragraphs</span><span class="p">)</span>

        <span class="c1"># A set of shared folders. random.folder() can use existing folders if they are shared.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_shared_folders</span><span class="p">:</span> <span class="n">Set</span><span class="p">[</span><span class="n">File</span><span class="p">]</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
</pre></div>

        </details>

            <div class="docstring"><p>Creates a <code><a href="#RandomHelper">RandomHelper</a></code>.
name_dictionary is a string containing words, each on its own line.</p>
</div>


                            </div>
                            <div id="RandomHelper.name" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#RandomHelper.name">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">name</span><span class="signature">(self)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Returns a random word that can be used as a file name. The name is taken from the name_dictionary. &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_name_dictionary</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">RandomHelperException</span><span class="p">(</span><span class="s2">&quot;Out of unique names.&quot;</span><span class="p">)</span>
        <span class="n">choice</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_name_dictionary</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_name_dictionary</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">choice</span><span class="p">)</span> <span class="c1"># We can&#39;t choose the same name again.</span>
        <span class="k">return</span> <span class="n">choice</span>
</pre></div>

        </details>

            <div class="docstring"><p>Returns a random word that can be used as a file name. The name is taken from the name_dictionary.</p>
</div>


                            </div>
                            <div id="RandomHelper.paragraphs" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#RandomHelper.paragraphs">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">paragraphs</span><span class="signature">(self, count: Union[int, Tuple[int, int]] = (1, 3)) -&gt; str</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">paragraphs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">count</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return a random sequence of paragraphs from the content_sources.</span>
<span class="sd">        If no content sources are provided or there isn&#39;t enough content to provide the size it will default to a lorem ipsum generator.</span>

<span class="sd">        paramaters:</span>
<span class="sd">            count: Either an int or a (min, max) tuple. If a tuple is given, will return a random number of paragraphs</span>
<span class="sd">                   in the range, inclusive.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">count</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span> <span class="n">count</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="n">count</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">count</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
        <span class="c1"># filter sources too small for chosen size</span>
        <span class="n">sources</span> <span class="o">=</span> <span class="p">[</span><span class="n">source</span> <span class="k">for</span> <span class="n">source</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_content_sources</span> <span class="k">if</span> <span class="n">count</span> <span class="o">&lt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">source</span><span class="p">)]</span>

        <span class="k">if</span> <span class="n">sources</span><span class="p">:</span> <span class="c1"># If we have source</span>
            <span class="c1"># Weight the files so all paragraphs are equally likely regardless of source</span>
            <span class="n">weights</span> <span class="o">=</span> <span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">source</span><span class="p">)</span> <span class="o">-</span> <span class="n">count</span> <span class="o">+</span> <span class="mi">1</span> <span class="k">for</span> <span class="n">source</span> <span class="ow">in</span> <span class="n">sources</span><span class="p">]</span>
            <span class="p">[</span><span class="n">source</span><span class="p">]</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choices</span><span class="p">(</span><span class="n">sources</span><span class="p">,</span> <span class="n">k</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">weights</span> <span class="o">=</span> <span class="n">weights</span><span class="p">)</span>

            <span class="n">index</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">source</span><span class="p">)</span> <span class="o">-</span> <span class="n">count</span><span class="p">)</span>
            <span class="k">return</span> <span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">source</span><span class="p">[</span><span class="n">index</span><span class="p">:</span><span class="n">index</span><span class="o">+</span><span class="n">count</span><span class="p">])</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">lorem</span><span class="o">.</span><span class="n">get_paragraph</span><span class="p">(</span><span class="n">count</span> <span class="o">=</span> <span class="n">count</span><span class="p">,</span> <span class="n">sep</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span>
</pre></div>

        </details>

            <div class="docstring"><p>Return a random sequence of paragraphs from the content_sources.
If no content sources are provided or there isn't enough content to provide the size it will default to a lorem ipsum generator.</p>

<p>paramaters:
    count: Either an int or a (min, max) tuple. If a tuple is given, will return a random number of paragraphs
           in the range, inclusive.</p>
</div>


                            </div>
                            <div id="RandomHelper.file" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#RandomHelper.file">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">file</span><span class="signature">(
    self,
    parent: Union[str, os.PathLike],
    ext=None
) -&gt; <a href="#file.File">shell_adventure.api.file.File</a></span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">:</span> <span class="n">PathLike</span><span class="p">,</span> <span class="n">ext</span> <span class="o">=</span> <span class="bp">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">File</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot; Creates a `File` with a random name. See `File.rand_file()` for more details. &quot;&quot;&quot;</span>
        <span class="n">parent</span> <span class="o">=</span> <span class="n">File</span><span class="p">(</span><span class="n">parent</span><span class="p">)</span><span class="o">.</span><span class="n">resolve</span><span class="p">()</span>
        <span class="n">ext</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span> <span class="k">if</span> <span class="n">ext</span> <span class="o">==</span> <span class="bp">None</span> <span class="k">else</span> <span class="n">f</span><span class="s2">&quot;.{ext}&quot;</span>
        <span class="n">new_file</span> <span class="o">=</span> <span class="n">File</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span> <span class="c1"># garanteed to exist.</span>

        <span class="c1"># check if file already exists. This can happen if a hardcoded name happens to match the random one.</span>
        <span class="k">while</span> <span class="n">new_file</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
            <span class="n">new_file</span> <span class="o">=</span> <span class="n">parent</span> <span class="o">/</span> <span class="n">f</span><span class="s2">&quot;{self.name()}{ext}&quot;</span>

        <span class="k">return</span> <span class="n">new_file</span>
</pre></div>

        </details>

            <div class="docstring"><p>Creates a <code><a href="#File">File</a></code> with a random name. See <code>File.rand_file()</code> for more details.</p>
</div>


                            </div>
                            <div id="RandomHelper.folder" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#RandomHelper.folder">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">folder</span><span class="signature">(
    self,
    parent: Union[str, os.PathLike],
    depth: Union[int, Tuple[int, int]] = (1, 3),
    create_new_chance: float = 0.5
) -&gt; <a href="#file.File">shell_adventure.api.file.File</a></span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">folder</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">:</span> <span class="n">PathLike</span><span class="p">,</span> <span class="n">depth</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="n">create_new_chance</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.5</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">File</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot; Makes a `File` to a random folder under parent. See `File.random_shared_folder()` for more details. &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">depth</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span> <span class="n">depth</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="n">depth</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">depth</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
        <span class="n">folder</span> <span class="o">=</span> <span class="n">File</span><span class="p">(</span><span class="n">parent</span><span class="p">)</span><span class="o">.</span><span class="n">resolve</span><span class="p">()</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">depth</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">folder</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
                <span class="n">choices</span> <span class="o">=</span> <span class="p">[</span><span class="n">d</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">folder</span><span class="o">.</span><span class="n">iterdir</span><span class="p">()</span> <span class="k">if</span> <span class="n">d</span><span class="o">.</span><span class="n">is_dir</span><span class="p">()</span> <span class="ow">and</span> <span class="n">d</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_shared_folders</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">choices</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="c1"># Create new shared folder if no choices or random chance succeeds.</span>
            <span class="c1"># Add check for 1 since uniform() is an inclusive range</span>
            <span class="n">roll</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">choices</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">create_new_chance</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">or</span> <span class="n">roll</span> <span class="o">&lt;</span> <span class="n">create_new_chance</span><span class="p">:</span>
                <span class="n">folder</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">file</span><span class="p">(</span><span class="n">folder</span><span class="p">)</span> <span class="c1"># create random file under folder</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">mark_shared</span><span class="p">(</span><span class="n">folder</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">folder</span> <span class="o">=</span> <span class="n">File</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">choices</span><span class="p">))</span>

        <span class="k">return</span> <span class="n">folder</span>
</pre></div>

        </details>

            <div class="docstring"><p>Makes a <code><a href="#File">File</a></code> to a random folder under parent. See <code><a href="#File.random_shared_folder">File.random_shared_folder()</a></code> for more details.</p>
</div>


                            </div>
                            <div id="RandomHelper.mark_shared" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#RandomHelper.mark_shared">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">mark_shared</span><span class="signature">(self, folder: Union[str, os.PathLike])</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">mark_shared</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">folder</span><span class="p">:</span> <span class="n">PathLike</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Marks a folder as shared. The folder does not have to exist yet. &quot;&quot;&quot;</span>
        <span class="n">folder</span> <span class="o">=</span> <span class="n">File</span><span class="p">(</span><span class="n">folder</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">folder</span><span class="o">.</span><span class="n">exists</span><span class="p">()</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">folder</span><span class="o">.</span><span class="n">is_dir</span><span class="p">():</span>
            <span class="k">raise</span> <span class="n">RandomHelperException</span><span class="p">(</span><span class="n">f</span><span class="s2">&quot;Can&#39;t mark {folder} as shared, it already exists as a f. Can only mark folders as shared.&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_shared_folders</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">folder</span><span class="o">.</span><span class="n">resolve</span><span class="p">())</span>
</pre></div>

        </details>

            <div class="docstring"><p>Marks a folder as shared. The folder does not have to exist yet.</p>
</div>


                            </div>
                </section>
                <section id="RandomHelperException">
                                <div class="attr class">
        <a class="headerlink" href="#RandomHelperException">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">RandomHelperException</span><wbr>(<span class="base">builtins.Exception</span>):
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">RandomHelperException</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Error for when the `RandomHelper` fails. &quot;&quot;&quot;</span>
</pre></div>

        </details>

            <div class="docstring"><p>Error for when the <code><a href="#RandomHelper">RandomHelper</a></code> fails.</p>
</div>


                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>builtins.Exception</dt>
                                <dd id="RandomHelperException.__init__" class="function">Exception</dd>

            </div>
            <div><dt>builtins.BaseException</dt>
                                <dd id="RandomHelperException.with_traceback" class="function">with_traceback</dd>
                <dd id="RandomHelperException.args" class="variable">args</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="rand">
                            <div class="attr function"><a class="headerlink" href="#rand">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">rand</span><span class="signature">() -&gt; <a href="#random_helper.RandomHelper">shell_adventure.api.random_helper.RandomHelper</a></span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">rand</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">RandomHelper</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns the `RandomHelper` which should be used when creating random files and folders.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">_rand</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">RandomHelperException</span><span class="p">(</span><span class="s2">&quot;You can only use randomization in Puzzle templates, not autograders&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">_rand</span>
</pre></div>

        </details>

            <div class="docstring"><p>Returns the <code><a href="#RandomHelper">RandomHelper</a></code> which should be used when creating random files and folders.</p>
</div>


                </section>
    </main>
</body>
</html>